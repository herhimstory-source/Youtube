<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>유튜브 트렌드 멘션 생성기 2025</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e1b4b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="멘션생성기">
    <meta name="description" content="2025년 최신 유튜브 트렌드를 반영한 스마트 멘션 제작 도구">
    
    <!-- Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIuycoO2KnOu4rOu4sDIwMjUg7Yq464yE65OcIOultOuckeyjvOyEse2NvCIsCiAgInNob3J0X25hbWUiOiAi66Wt7Zy474q07IW66IC16riAIiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJ0aGVtZV9jb2xvciI6ICIjMWUxYjRiIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjMWUxYjRiIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRJNElpQm9aV2xuYUhROUlqRXlPQ0lnZG1sbGQwSnZlRDBpTUNBd0lERXlPQ0F4TWpnaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BHUmxabk0rUEdkcFluSnBaVzUwSUdsa1BTSmhJaUJ5TVQwaU1DNDNJaUJ5TWowaU1DNDVJaUJuTVQwaUkzWTFOakV3TVdVaUlHY3lQU0lqTWpjeFpUWmtJaTgrUEM5blpHVm1jejRnUEhObGNtTnNaU0JqZUQwaU5qUWlJR041UFNJMk5DSWdjakU5SWpFNElpQm1hV3hzUFNKMWNtd29JMkVwSWo0OEwzTmxjbU5zWlQ0OEwyUmxabk0rUEhSbGVIUWdlRDBpTmpRaUlIazlJamMyVENJZ1ptbHNiRDBpSTJGbFptWm1aaUlnWm05dWRDMXphWHBsUFNJeE1pSWdkR1Y0ZEMxaGJtTm9iM0k5SWsxcFpIUnNaU0lnWm05dWRDMW1ZVzFwYkhsOUlqSTJMUzVTYjJKdmRHOGlQa3hyNVEyZ0lNZHpJaUJ3YUNBNGJpOWZibVEwaUNBNGFpOWNJbTBySUNBNGJpOTFZQzQ2SWladUxqOVBabThpSUVzblNBSWdjbTl1ZDJGeWFETjNJaUJ3ZEcwNkxTczNOSEY0ZDFkMElDQWlMelJzU2xJK1BDOTBaWGgwUGp3dmMzWm5QZz09IiwKICAgICAgInNpemVzIjogIjEyOHgxMjgiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIiwKICAgICAgInB1cnBvc2UiOiAiYW55IG1hc2thYmxlIgogICAgfQogIF0KfQ==">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Custom Styles -->
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: linear-gradient(135deg, #581c87 0%, #1e3a8a 35%, #312e81 70%, #4c1d95 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Background decoration */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #a855f7 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
            border: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 50%, #9333ea 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(99, 102, 241, 0.3);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(99, 102, 241, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.3);
        }
        
        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(16, 185, 129, 0.4);
        }
        
        .btn-white {
            background: rgba(255, 255, 255, 0.95);
            color: #374151;
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .btn-white:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            outline: none;
        }
        
        .radio-option {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
        }
        
        .radio-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }
        
        .radio-option.selected {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
        }
        
        .install-prompt {
            animation: slideDown 0.5s ease-out;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Enhanced scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.6), rgba(59, 130, 246, 0.6));
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.8), rgba(59, 130, 246, 0.8));
        }
        
        /* Text styles */
        .title-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 50%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle-glow {
            color: #bfdbfe;
            text-shadow: 0 0 20px rgba(191, 219, 254, 0.3);
        }
        
        /* Enhanced containers */
        .main-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }
        
        .section-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Toast enhancement */
        .toast {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-padding {
                padding: 16px;
            }
            
            .mobile-text {
                font-size: 14px;
            }
            
            .mobile-btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .glass {
                backdrop-filter: blur(16px);
            }
        }
        
        /* Loading states */
        .loading-shimmer {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 25%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        /* Hover effects */
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
        }
        
        /* Icon enhancements */
        .icon-glow {
            filter: drop-shadow(0 0 8px rgba(250, 204, 21, 0.4));
        }
        
        .icon-bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
    </style>
</head>

<body>
    <!-- PWA Install Prompt -->
    <div id="installPrompt" class="fixed top-4 left-4 right-4 z-50 install-prompt rounded-xl shadow-xl hidden">
        <div class="p-4 text-white flex items-center justify-between">
            <div class="flex items-center gap-3">
                <i data-lucide="smartphone" class="w-6 h-6 icon-glow"></i>
                <div>
                    <div class="font-semibold text-lg">홈 화면에 추가하기</div>
                    <div class="text-sm opacity-90">언제든 빠르게 접근하세요!</div>
                </div>
            </div>
            <div class="flex gap-2">
                <button id="installBtn" class="btn-white px-6 py-2 rounded-lg font-semibold text-sm transition-all">
                    설치
                </button>
                <button id="dismissBtn" class="text-white opacity-70 hover:opacity-100 p-2 hover:bg-white/10 rounded-lg transition-all">
                    ✕
                </button>
            </div>
        </div>
    </div>

    <div class="min-h-screen p-4 sm:p-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8 sm:mb-12 fade-in">
                <div class="flex items-center justify-center gap-3 sm:gap-4 mb-6">
                    <i data-lucide="trending-up" class="w-8 sm:w-12 h-8 sm:h-12 text-yellow-400 icon-glow icon-bounce"></i>
                    <h1 class="text-3xl sm:text-5xl lg:text-6xl font-bold title-gradient leading-tight">
                        유튜브 트렌드<br class="sm:hidden">
                        멘션 생성기
                    </h1>
                    <i data-lucide="sparkles" class="w-8 sm:w-12 h-8 sm:h-12 text-yellow-400 icon-glow pulse"></i>
                </div>
                <p class="subtitle-glow text-lg sm:text-xl lg:text-2xl font-medium mb-6">
                    2025년 최신 트렌드를 반영한 스마트 멘션 제작 도구
                </p>
                
                <!-- Mobile Install Guide -->
                <div class="mt-6 glass rounded-xl p-4 border block sm:hidden hover-lift">
                    <div class="flex items-center justify-center gap-2 text-blue-200 text-sm">
                        <i data-lucide="download" class="w-5 h-5"></i>
                        <span>홈 화면에 추가하여 앱처럼 사용하세요!</span>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-6 sm:gap-10">
                <!-- Input Form -->
                <div class="glass-strong rounded-3xl p-6 sm:p-8 hover-lift">
                    <div class="section-header -m-6 sm:-m-8 mb-6 sm:mb-8 p-6 sm:p-8 rounded-t-3xl">
                        <h2 class="text-2xl sm:text-3xl font-bold text-white flex items-center gap-3">
                            <i data-lucide="tag" class="w-6 sm:w-8 h-6 sm:h-8 text-blue-400"></i>
                            콘텐츠 정보 입력
                        </h2>
                    </div>

                    <div class="space-y-6 sm:space-y-8">
                        <!-- Keywords -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">핵심 키워드</label>
                            <input type="text" id="keywords" placeholder="예: 축구, 수영, 농구 등"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Sport -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">스포츠 종목</label>
                            <input type="text" id="sport" placeholder="구체적인 종목명 입력"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Date -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="calendar" class="w-5 h-5 text-blue-400"></i>
                                날짜
                            </label>
                            <input type="date" id="date"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white text-base sm:text-lg font-medium">
                        </div>

                        <!-- Achievement -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">주요 성과/순간</label>
                            <input type="text" id="achievement" placeholder="예: 개인 최고 기록 달성, 첫 승리 등"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Challenge -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">극복한 어려움</label>
                            <input type="text" id="challenge" placeholder="예: 부상 회복, 슬럼프 극복 등"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Video Type -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="video" class="w-5 h-5 text-purple-400"></i>
                                영상 타입
                            </label>
                            <div class="grid grid-cols-1 gap-3" id="videoTypeContainer">
                                <!-- Video type options will be inserted here -->
                            </div>
                        </div>

                        <!-- Emotion -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="heart" class="w-5 h-5 text-pink-400"></i>
                                감정/톤
                            </label>
                            <div class="grid grid-cols-2 gap-3" id="emotionContainer">
                                <!-- Emotion options will be inserted here -->
                            </div>
                        </div>

                        <!-- Trend Element -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="zap" class="w-5 h-5 text-yellow-400"></i>
                                2025 트렌드 요소
                            </label>
                            <div class="space-y-3" id="trendElementContainer">
                                <!-- Trend element options will be inserted here -->
                            </div>
                        </div>

                        <!-- Generate Button -->
                        <button id="generateBtn" class="w-full btn-primary text-white font-bold py-4 sm:py-5 px-6 sm:px-8 rounded-xl flex items-center justify-center gap-3 text-lg sm:text-xl shadow-lg">
                            <i data-lucide="sparkles" class="w-6 h-6"></i>
                            트렌드 멘션 생성하기
                            <i data-lucide="refresh-cw" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>

                <!-- Generated Mention -->
                <div class="glass rounded-2xl p-4 sm:p-6">
                    <h2 class="text-xl sm:text-2xl font-semibold text-white mb-4 sm:mb-6 flex items-center gap-2">
                        <i data-lucide="target" class="w-5 sm:w-6 h-5 sm:h-6"></i>
                        생성된 멘션
                    </h2>

                    <!-- Empty State -->
                    <div id="emptyState" class="glass rounded-lg p-6 sm:p-8 text-center">
                        <i data-lucide="users" class="w-12 sm:w-16 h-12 sm:h-16 text-gray-400 mx-auto mb-4"></i>
                        <p class="text-gray-300 text-base sm:text-lg">
                            정보를 입력하고 '트렌드 멘션 생성하기'를 클릭해주세요
                        </p>
                        <p class="text-gray-400 text-xs sm:text-sm mt-2">
                            2025년 최신 트렌드가 반영된 맞춤 멘션을 제작해드립니다
                        </p>
                    </div>

                    <!-- Generated Content -->
                    <div id="generatedContent" class="space-y-3 sm:space-y-4 hidden">
                        <!-- Mention Display -->
                        <div id="mentionDisplay" class="glass rounded-lg p-3 sm:p-4 min-h-[250px] sm:min-h-[300px]">
                            <pre id="mentionText" class="text-white whitespace-pre-wrap font-medium leading-relaxed text-sm sm:text-base"></pre>
                        </div>

                        <!-- Edit Mode -->
                        <div id="editMode" class="glass rounded-lg p-3 sm:p-4 hidden">
                            <textarea id="editTextarea" placeholder="멘션을 편집해주세요..."
                                class="w-full h-64 sm:h-80 bg-transparent text-white placeholder-gray-300 border-none outline-none resize-none font-medium leading-relaxed text-sm sm:text-base"></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div id="actionButtons" class="flex gap-2">
                            <!-- Normal mode buttons -->
                        </div>

                        <!-- Translate Button -->
                        <button id="translateBtn" class="w-full btn-success text-white font-semibold py-2 sm:py-3 px-3 sm:px-4 rounded-lg flex items-center justify-center gap-2 text-sm sm:text-base">
                            <i data-lucide="globe" class="w-4 sm:w-5 h-4 sm:h-5"></i>
                            <span id="translateText">영문으로 번역하기</span>
                        </button>

                        <!-- Translation Result -->
                        <div id="translationResult" class="bg-green-500/20 border border-green-500/30 rounded-lg p-3 sm:p-4 hidden">
                            <div class="flex items-center gap-2 mb-3">
                                <i data-lucide="globe" class="w-4 sm:w-5 h-4 sm:h-5 text-green-400"></i>
                                <span class="text-green-300 font-semibold text-sm sm:text-base">영문 번역 결과</span>
                            </div>
                            <div class="glass rounded-lg p-3 sm:p-4 mb-3">
                                <pre id="translatedText" class="text-white whitespace-pre-wrap font-medium leading-relaxed text-sm sm:text-base"></pre>
                            </div>
                            <button id="copyTranslatedBtn" class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base">
                                <i data-lucide="copy" class="w-3 sm:w-4 h-3 sm:h-4"></i>
                                영문 멘션 복사하기
                            </button>
                        </div>

                        <!-- Tips -->
                        <div class="bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 sm:p-4">
                            <div class="flex items-start gap-2">
                                <i data-lucide="sparkles" class="w-4 sm:w-5 h-4 sm:h-5 text-yellow-400 mt-1"></i>
                                <div>
                                    <div class="text-yellow-300 font-semibold mb-1 text-sm sm:text-base">2025 트렌드 팁</div>
                                    <div class="text-yellow-100 text-xs sm:text-sm">
                                        생성된 멘션은 2025년 유튜브 알고리즘과 사용자 선호도를 반영했습니다. 
                                        편집 기능으로 개인적인 터치를 추가하고, 글로벌 진출을 위해 영문 번역도 활용해보세요!
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-6 sm:mt-8 text-center">
                <div class="glass rounded-lg p-3 sm:p-4">
                    <p class="text-blue-200 text-xs sm:text-sm">
                        💡 <strong>2025 트렌드 기반:</strong> YouTube Shorts 최적화, 라이브 소통, 스토리텔링, 멘탈 헬스, 커뮤니티 참여
                        <br class="hidden sm:block">
                        <span class="block sm:inline mt-1 sm:mt-0">
                            ✨ <strong>새로운 기능:</strong> 멘션 편집, 영문 번역으로 글로벌 진출까지!
                        </span>
                    </p>
                </div>
                
                <!-- Mobile Install Help -->
                <div class="mt-4 bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 block sm:hidden">
                    <div class="text-blue-200 text-xs">
                        <div class="font-semibold mb-1">📱 홈 화면에 추가하는 방법</div>
                        <div>iPhone: Safari → 공유 → 홈 화면에 추가</div>
                        <div>Android: Chrome → 메뉴 → 홈 화면에 추가</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 right-4 glass rounded-lg p-4 text-white transform translate-y-full opacity-0 transition-all duration-300 z-50">
        <div class="flex items-center gap-2">
            <i data-lucide="check" class="w-5 h-5 text-green-400"></i>
            <span id="toastMessage">복사 완료!</span>
        </div>
    </div>

    <script>
        // App State
        let appState = {
            formData: {
                keywords: '',
                date: '',
                videoType: 'shorts',
                sport: '',
                emotion: 'excited',
                trendElement: 'storytelling',
                achievement: '',
                challenge: ''
            },
            generatedMention: '',
            editedMention: '',
            translatedMention: '',
            isEditMode: false,
            isTranslating: false,
            deferredPrompt: null
        };

        // Data
        const videoTypes = [
            { value: 'shorts', label: 'YouTube Shorts (15-60초)', icon: '📱' },
            { value: 'regular', label: '일반 영상 (3-8분)', icon: '🎥' },
            { value: 'live', label: '라이브 스트림', icon: '🔴' },
            { value: 'series', label: '시리즈 영상', icon: '📺' }
        ];

        const emotions = [
            { value: 'excited', label: '흥미진진한', emoji: '🔥' },
            { value: 'grateful', label: '감사한', emoji: '🙏' },
            { value: 'determined', label: '의지에 찬', emoji: '💪' },
            { value: 'reflective', label: '돌아보는', emoji: '💭' },
            { value: 'proud', label: '자랑스러운', emoji: '✨' }
        ];

        const trendElements = [
            { value: 'storytelling', label: '스토리텔링', desc: '개인적 여정 공유' },
            { value: 'behind-scenes', label: '비하인드 신', desc: '훈련 과정 공개' },
            { value: 'mental-health', label: '멘탈 케어', desc: '정신 건강 중시' },
            { value: 'community', label: '커뮤니티', desc: '팬과의 소통' },
            { value: 'tech-data', label: '데이터 활용', desc: '기술적 분석' },
            { value: 'challenge', label: '챌린지', desc: '바이럴 참여' }
        ];

        const trendingHashtags2025 = [
            '#Shorts', '#주니어선수', '#성장스토리', '#꿈을향해', '#멘탈강화',
            '#데이터분석', '#커뮤니티', '#진정성', '#비하인드', '#라이브소통',
            '#스토리텔링', '#영감', '#도전', '#극복', '#팀워크'
        ];

        // Translation Function
        function translateToEnglish(koreanText) {
            let translatedText = koreanText;

            // Complete sentence patterns
            const sentencePatterns = [
                { from: /🔥\s*이\s*순간을\s*위해\s*얼마나\s*기다렸는지\.{3}/g, to: '🔥 How long I\'ve been waiting for this moment...' },
                { from: /⚡\s*드디어\s*해냈다!/g, to: '⚡ Finally made it!' },
                { from: /🚀\s*상상도\s*못했던\s*일이\.{3}/g, to: '🚀 Something I never imagined...' },
                { from: /🙏\s*모든\s*분들\s*덕분에\.{3}/g, to: '🙏 Thanks to everyone...' },
                { from: /❤️\s*정말\s*감사한\s*마음으로\.{3}/g, to: '❤️ With a truly grateful heart...' },
                { from: /✨\s*이런\s*기회를\s*주신\.{3}/g, to: '✨ For giving me this opportunity...' },
                { from: /💪\s*포기하지\s*않길\s*정말\s*잘했어요/g, to: '💪 I\'m so glad I didn\'t give up' },
                { from: /🎯\s*목표를\s*향한\s*한\s*걸음/g, to: '🎯 One step towards the goal' },
                { from: /⚡\s*더\s*강해지기\s*위해\.{3}/g, to: '⚡ To become stronger...' },
                { from: /💭\s*돌이켜보면\.{3}/g, to: '💭 Looking back...' },
                { from: /📖\s*그때\s*그\s*순간이\.{3}/g, to: '📖 That moment back then...' },
                { from: /🌟\s*이\s*여정을\s*통해\s*배운\s*것은\.{3}/g, to: '🌟 What I learned through this journey...' },
                { from: /✨\s*자랑스러운\s*순간/g, to: '✨ A proud moment' },
                { from: /🏆\s*이\s*성과가\s*의미하는\s*것은\.{3}/g, to: '🏆 What this achievement means...' },
                { from: /🌟\s*드디어\s*이루어낸\.{3}/g, to: '🌟 Finally achieved...' },
                
                // Story sentences
                { from: /📖\s*(.+?)를\s*처음\s*시작했을\s*때만\s*해도\s*이런\s*날이\s*올\s*줄\s*몰랐어요\./g, to: '📖 When I first started $1, I never knew this day would come.' },
                { from: /📚\s*예전의\s*저에게\s*말해주고\s*싶어요\.\s*"(.+?)에서\s*포기하지\s*마,\s*네가\s*꿈꾸던\s*그\s*순간이\s*정말\s*올\s*거야"라고요\./g, to: '📚 I want to tell my past self: "Don\'t give up on $1, that moment you dreamed of will really come."' },
                
                // Other patterns
                { from: /⚡\s*(.+?)를\s*통해\s*배운\s*가장\s*큰\s*교훈은\s*'꾸준함이\s*재능을\s*이긴다'는\s*것/g, to: '⚡ The biggest lesson I learned through $1 is that \'consistency beats talent\'' },
                { from: /🎯\s*다음\s*목표는\s*(.+?)에서\s*한\s*단계\s*더\s*성장하는\s*것/g, to: '🎯 My next goal is to grow one step further in $1' },
                { from: /📱\s*60초로\s*압축한\s*이\s*순간,\s*놓치지\s*마세요!/g, to: '📱 This moment compressed into 60 seconds, don\'t miss it!' },
                { from: /🎥\s*자세한\s*이야기는\s*영상에서\s*확인해주세요!/g, to: '🎥 Check out the video for the detailed story!' },
                { from: /🔴\s*실시간으로\s*여러분과\s*나누고\s*싶었던\s*이야기/g, to: '🔴 A story I wanted to share with you in real time' },
                { from: /📺\s*시리즈로\s*계속\s*이어집니다,\s*다음\s*편도\s*기대해주세요!/g, to: '📺 This series continues, please look forward to the next episode!' }
            ];

            // Word translations
            const wordTranslations = {
                '그리고': 'and', '또한': 'also', '하지만': 'but', '그러나': 'however',
                '때문에': 'because of', '덕분에': 'thanks to', '통해': 'through',
                '위해': 'for', '함께': 'together', '혼자': 'alone',
                '정말': 'really', '너무': 'so', '매우': 'very', '조금': 'a little',
                '많이': 'a lot', '전혀': 'not at all', '항상': 'always', '가끔': 'sometimes',
                '오늘': 'today', '어제': 'yesterday', '내일': 'tomorrow',
                '지금': 'now', '나중에': 'later', '먼저': 'first',
                '마지막': 'last', '처음': 'first time',
                
                // Sports related
                '선수': 'athlete', '코치': 'coach', '팀': 'team',
                '경기': 'game', '시합': 'match', '대회': 'tournament',
                '훈련': 'training', '연습': 'practice', '기록': 'record',
                '우승': 'championship', '승리': 'victory', '패배': 'defeat',
                '실력': 'skill', '기술': 'technique', '전술': 'tactics',
                
                // Hashtags
                '#주니어선수': '#JuniorAthlete',
                '#성장스토리': '#GrowthStory',
                '#꿈을향해': '#TowardTheDream',
                '#멘탈강화': '#MentalStrength',
                '#데이터분석': '#DataAnalysis',
                '#커뮤니티': '#Community',
                '#진정성': '#Authenticity',
                '#비하인드': '#BehindTheScenes',
                '#라이브소통': '#LiveCommunication',
                '#스토리텔링': '#Storytelling',
                '#영감': '#Inspiration',
                '#도전': '#Challenge',
                '#극복': '#Overcome',
                '#팀워크': '#Teamwork',
                '#2025트렌드': '#2025Trends',
                '#유튜브': '#YouTube'
            };

            // Apply sentence patterns
            sentencePatterns.forEach(({ from, to }) => {
                translatedText = translatedText.replace(from, to);
            });

            // Apply word translations
            Object.entries(wordTranslations).forEach(([korean, english]) => {
                if (english) {
                    const regex = new RegExp(`\\b${korean.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}\\b`, 'g');
                    translatedText = translatedText.replace(regex, english);
                } else {
                    const regex = new RegExp(korean.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    translatedText = translatedText.replace(regex, '');
                }
            });

            // Grammar patterns
            translatedText = translatedText.replace(/([가-힣]+)하며/g, 'while $1ing');
            translatedText = translatedText.replace(/([가-힣]+)했던/g, '$1 that I did');
            translatedText = translatedText.replace(/([가-힣]+)한다는/g, 'that I $1');
            translatedText = translatedText.replace(/([가-힣]+)하는/g, '$1ing');
            translatedText = translatedText.replace(/([가-힣]+)했어요/g, 'I $1ed');
            translatedText = translatedText.replace(/([가-힣]+)할게요/g, 'I will $1');
            translatedText = translatedText.replace(/([가-힣]+)하고/g, '$1 and');

            // Final cleanup
            translatedText = translatedText.replace(/\s+/g, ' ');
            translatedText = translatedText.replace(/\s+([.!?])/g, '$1');
            translatedText = translatedText.trim();

            return translatedText;
        }

        // Mention Generation
        function generateMention() {
            const hooks = {
                excited: ['🔥 이 순간을 위해 얼마나 기다렸는지...', '⚡ 드디어 해냈다!', '🚀 상상도 못했던 일이...'],
                grateful: ['🙏 모든 분들 덕분에...', '❤️ 정말 감사한 마음으로...', '✨ 이런 기회를 주신...'],
                determined: ['💪 포기하지 않길 정말 잘했어요', '🎯 목표를 향한 한 걸음', '⚡ 더 강해지기 위해...'],
                reflective: ['💭 돌이켜보면...', '📖 그때 그 순간이...', '🌟 이 여정을 통해 배운 것은...'],
                proud: ['✨ 자랑스러운 순간', '🏆 이 성과가 의미하는 것은...', '🌟 드디어 이루어낸...']
            };

            const storyElements = {
                storytelling: [
                    `📖 ${appState.formData.keywords}를 처음 시작했을 때만 해도 이런 날이 올 줄 몰랐어요. 매일 ${appState.formData.challenge || '훈련'}하며 느꼈던 그 순간들이 오늘 ${appState.formData.achievement || '이 성과'}로 이어졌습니다.`,
                    `📚 예전의 저에게 말해주고 싶어요. "${appState.formData.keywords}에서 포기하지 마, 네가 꿈꾸던 그 순간이 정말 올 거야"라고요.`
                ],
                'behind-scenes': [
                    `🏃‍♀️ 카메라에 담기지 않은 새벽 훈련, 쓰라린 실패들... 그 모든 과정이 오늘의 ${appState.formData.achievement || '성과'}를 만들었어요.`,
                    `⏰ 새벽 5시 훈련장, 아무도 보지 않는 곳에서의 노력들이 드디어 빛을 보는 순간입니다.`
                ],
                'mental-health': [
                    `🧠 몸만큼 마음도 단단해져야 한다는 걸 배웠어요. 압박감과 스트레스를 이겨내는 것도 실력의 일부라는 것을...`,
                    `💚 선수로서의 성장뿐만 아니라 한 사람으로서의 성장도 중요하다는 걸 깨달았습니다.`
                ],
                community: [
                    `👥 혼자서는 절대 할 수 없었을 일이에요. 응원해주신 모든 분들과 함께 이뤄낸 성과입니다!`,
                    `🤝 댓글로 격려해주시고, 라이브에서 함께해주신 모든 분들 덕분에 여기까지 올 수 있었어요.`
                ],
                'tech-data': [
                    `📊 데이터가 보여준 작은 변화들이 결국 큰 성과로 이어졌어요. 수치로 확인하니 더욱 뿌듯합니다!`,
                    `⌚ 웨어러블 기기가 알려준 제 한계를 하나씩 뛰어넘는 재미가 있어요.`
                ],
                challenge: [
                    `🎯 ${appState.formData.keywords} 챌린지에 참여하면서 새로운 가능성을 발견했어요!`,
                    `🌟 트렌드에 맞춰 도전해보니 예상치 못한 재미와 성장이 있었습니다.`
                ]
            };

            const insights = [
                `⚡ ${appState.formData.keywords}를 통해 배운 가장 큰 교훈은 '꾸준함이 재능을 이긴다'는 것`,
                `🎯 실패를 두려워하지 않고 도전하는 용기가 가장 중요한 자산`,
                `💡 완벽하지 않아도 괜찮다, 성장하는 과정 자체가 아름답다`,
                `🌟 경쟁보다는 어제의 나와의 비교가 진정한 성장의 기준`,
                `🤝 혼자가 아니라 함께할 때 더 큰 힘이 나온다는 것`
            ];

            const nextGoals = [
                `🎯 다음 목표는 ${appState.formData.keywords}에서 한 단계 더 성장하는 것`,
                `🚀 이번 경험을 바탕으로 더 큰 무대에 도전하고 싶어요`,
                `💪 꾸준한 훈련으로 내년에는 더 발전된 모습 보여드릴게요`,
                `🌟 후배들에게도 좋은 롤모델이 되고 싶습니다`,
                `⭐ 궁극적으로는 ${appState.formData.sport}에서 최고가 되는 그날까지`
            ];

            const videoTypeTexts = {
                shorts: '📱 60초로 압축한 이 순간, 놓치지 마세요!',
                regular: '🎥 자세한 이야기는 영상에서 확인해주세요!',
                live: '🔴 실시간으로 여러분과 나누고 싶었던 이야기',
                series: '📺 시리즈로 계속 이어집니다, 다음 편도 기대해주세요!'
            };

            const selectedHook = hooks[appState.formData.emotion][Math.floor(Math.random() * hooks[appState.formData.emotion].length)];
            const selectedStory = storyElements[appState.formData.trendElement][Math.floor(Math.random() * storyElements[appState.formData.trendElement].length)];
            const selectedInsight = insights[Math.floor(Math.random() * insights.length)];
            const selectedGoal = nextGoals[Math.floor(Math.random() * nextGoals.length)];
            const videoTypeText = videoTypeTexts[appState.formData.videoType];
            
            const selectedHashtags = trendingHashtags2025
                .sort(() => 0.5 - Math.random())
                .slice(0, 8)
                .join(' ');

            const mention = `${selectedHook}

${selectedStory}

${selectedInsight}
${selectedGoal}

${videoTypeText}

${selectedHashtags}

#${appState.formData.sport} #2025트렌드 #유튜브`;

            appState.generatedMention = mention;
            appState.editedMention = '';
            appState.translatedMention = '';
            appState.isEditMode = false;
            
            updateUI();
        }

        // UI Updates
        function updateUI() {
            const emptyState = document.getElementById('emptyState');
            const generatedContent = document.getElementById('generatedContent');
            const mentionDisplay = document.getElementById('mentionDisplay');
            const editMode = document.getElementById('editMode');
            const mentionText = document.getElementById('mentionText');
            const editTextarea = document.getElementById('editTextarea');
            const actionButtons = document.getElementById('actionButtons');
            const translateBtn = document.getElementById('translateBtn');
            const translationResult = document.getElementById('translationResult');

            if (appState.generatedMention) {
                emptyState.classList.add('hidden');
                generatedContent.classList.remove('hidden');

                if (appState.isEditMode) {
                    mentionDisplay.classList.add('hidden');
                    editMode.classList.remove('hidden');
                    editTextarea.value = appState.editedMention || appState.generatedMention;
                } else {
                    mentionDisplay.classList.remove('hidden');
                    editMode.classList.add('hidden');
                    mentionText.textContent = appState.editedMention || appState.generatedMention;
                }

                updateActionButtons();
                translateBtn.classList.remove('hidden');

                if (appState.translatedMention) {
                    translationResult.classList.remove('hidden');
                    document.getElementById('translatedText').textContent = appState.translatedMention;
                } else {
                    translationResult.classList.add('hidden');
                }
            } else {
                emptyState.classList.remove('hidden');
                generatedContent.classList.add('hidden');
            }
        }

        function updateActionButtons() {
            const actionButtons = document.getElementById('actionButtons');
            
            if (appState.isEditMode) {
                actionButtons.innerHTML = `
                    <button id="saveEditBtn" class="flex-1 btn-success text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="check" class="w-5 h-5"></i>
                        편집 완료
                    </button>
                    <button id="cancelEditBtn" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        취소
                    </button>
                `;
                
                document.getElementById('saveEditBtn').addEventListener('click', saveEdit);
                document.getElementById('cancelEditBtn').addEventListener('click', cancelEdit);
            } else {
                actionButtons.innerHTML = `
                    <button id="editBtn" class="flex-1 btn-secondary text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="edit-3" class="w-5 h-5"></i>
                        편집하기
                    </button>
                    <button id="copyBtn" class="flex-1 btn-white py-3 sm:py-4 px-4 sm:px-6 rounded-xl font-bold flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="copy" class="w-5 h-5"></i>
                        복사하기
                    </button>
                `;
                
                document.getElementById('editBtn').addEventListener('click', startEdit);
                document.getElementById('copyBtn').addEventListener('click', () => copyToClipboard(appState.editedMention || appState.generatedMention));
            }
            
            // Re-initialize Lucide icons
            lucide.createIcons();
        }

        // Edit Functions
        function startEdit() {
            appState.isEditMode = true;
            appState.editedMention = appState.editedMention || appState.generatedMention;
            updateUI();
        }

        function saveEdit() {
            appState.editedMention = document.getElementById('editTextarea').value;
            appState.isEditMode = false;
            appState.translatedMention = '';
            updateUI();
        }

        function cancelEdit() {
            appState.isEditMode = false;
            appState.editedMention = '';
            updateUI();
        }

        // Translation
        async function handleTranslate() {
            if (appState.isTranslating) return;
            
            appState.isTranslating = true;
            const translateText = document.getElementById('translateText');
            const originalText = translateText.textContent;
            
            translateText.innerHTML = '번역 중... <i data-lucide="refresh-cw" class="w-4 sm:w-5 h-4 sm:h-5 spin inline"></i>';
            lucide.createIcons();
            
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            const textToTranslate = appState.editedMention || appState.generatedMention;
            appState.translatedMention = translateToEnglish(textToTranslate);
            appState.isTranslating = false;
            
            translateText.textContent = originalText;
            updateUI();
        }

        // Copy to Clipboard
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                showToast('복사 완료!');
            } catch (err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('복사 완료!');
            }
        }

        // Toast Notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.remove('translate-y-full', 'opacity-0');
            toast.classList.add('translate-y-0', 'opacity-100');
            
            // Add fade-in animation
            toast.classList.add('fade-in');
            
            setTimeout(() => {
                toast.classList.add('translate-y-full', 'opacity-0');
                toast.classList.remove('translate-y-0', 'opacity-100', 'fade-in');
            }, 3000);
        }

        // Form Input Handlers
        function setupFormInputs() {
            // Text inputs
            ['keywords', 'sport', 'date', 'achievement', 'challenge'].forEach(field => {
                const element = document.getElementById(field);
                element.addEventListener('input', (e) => {
                    appState.formData[field] = e.target.value;
                });
            });

            // Video types
            const videoTypeContainer = document.getElementById('videoTypeContainer');
            videoTypes.forEach(type => {
                const label = document.createElement('label');
                label.className = 'radio-option flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all';
                label.innerHTML = `
                    <input type="radio" name="videoType" value="${type.value}" ${type.value === 'shorts' ? 'checked' : ''} class="sr-only">
                    <div class="w-5 h-5 rounded-full border-2 border-white/30 flex items-center justify-center">
                        <div class="w-2.5 h-2.5 rounded-full bg-blue-400 opacity-0 transition-opacity"></div>
                    </div>
                    <span class="text-2xl">${type.icon}</span>
                    <span class="text-white text-base sm:text-lg font-medium">${type.label}</span>
                `;
                
                const radio = label.querySelector('input');
                const indicator = label.querySelector('div > div');
                
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        appState.formData.videoType = e.target.value;
                        
                        // Update all radio indicators
                        document.querySelectorAll('input[name="videoType"]').forEach(r => {
                            const parentLabel = r.closest('label');
                            const ind = parentLabel.querySelector('div > div');
                            if (r.checked) {
                                parentLabel.classList.add('selected');
                                ind.style.opacity = '1';
                            } else {
                                parentLabel.classList.remove('selected');
                                ind.style.opacity = '0';
                            }
                        });
                    }
                });
                
                // Set initial state
                if (type.value === 'shorts') {
                    label.classList.add('selected');
                    indicator.style.opacity = '1';
                }
                
                videoTypeContainer.appendChild(label);
            });

            // Emotions
            const emotionContainer = document.getElementById('emotionContainer');
            emotions.forEach(emotion => {
                const label = document.createElement('label');
                label.className = 'radio-option flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all';
                label.innerHTML = `
                    <input type="radio" name="emotion" value="${emotion.value}" ${emotion.value === 'excited' ? 'checked' : ''} class="sr-only">
                    <div class="w-4 h-4 rounded-full border-2 border-white/30 flex items-center justify-center">
                        <div class="w-2 h-2 rounded-full bg-pink-400 opacity-0 transition-opacity"></div>
                    </div>
                    <span class="text-xl">${emotion.emoji}</span>
                    <span class="text-white text-sm sm:text-base font-medium">${emotion.label}</span>
                `;
                
                const radio = label.querySelector('input');
                const indicator = label.querySelector('div > div');
                
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        appState.formData.emotion = e.target.value;
                        
                        // Update all radio indicators
                        document.querySelectorAll('input[name="emotion"]').forEach(r => {
                            const parentLabel = r.closest('label');
                            const ind = parentLabel.querySelector('div > div');
                            if (r.checked) {
                                parentLabel.classList.add('selected');
                                ind.style.opacity = '1';
                            } else {
                                parentLabel.classList.remove('selected');
                                ind.style.opacity = '0';
                            }
                        });
                    }
                });
                
                // Set initial state
                if (emotion.value === 'excited') {
                    label.classList.add('selected');
                    indicator.style.opacity = '1';
                }
                
                emotionContainer.appendChild(label);
            });

            // Trend elements
            const trendElementContainer = document.getElementById('trendElementContainer');
            trendElements.forEach(element => {
                const label = document.createElement('label');
                label.className = 'radio-option flex items-start gap-4 p-4 rounded-xl cursor-pointer transition-all';
                label.innerHTML = `
                    <input type="radio" name="trendElement" value="${element.value}" ${element.value === 'storytelling' ? 'checked' : ''} class="sr-only">
                    <div class="w-5 h-5 rounded-full border-2 border-white/30 flex items-center justify-center mt-1">
                        <div class="w-2.5 h-2.5 rounded-full bg-yellow-400 opacity-0 transition-opacity"></div>
                    </div>
                    <div>
                        <div class="text-white font-bold text-base sm:text-lg">${element.label}</div>
                        <div class="text-gray-300 text-sm sm:text-base mt-1">${element.desc}</div>
                    </div>
                `;
                
                const radio = label.querySelector('input');
                const indicator = label.querySelector('div > div');
                
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        appState.formData.trendElement = e.target.value;
                        
                        // Update all radio indicators
                        document.querySelectorAll('input[name="trendElement"]').forEach(r => {
                            const parentLabel = r.closest('label');
                            const ind = parentLabel.querySelector('div > div');
                            if (r.checked) {
                                parentLabel.classList.add('selected');
                                ind.style.opacity = '1';
                            } else {
                                parentLabel.classList.remove('selected');
                                ind.style.opacity = '0';
                            }
                        });
                    }
                });
                
                // Set initial state
                if (element.value === 'storytelling') {
                    label.classList.add('selected');
                    indicator.style.opacity = '1';
                }
                
                trendElementContainer.appendChild(label);
            });
        }

        // PWA Functions
        function setupPWA() {
            // Install prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                appState.deferredPrompt = e;
                document.getElementById('installPrompt').classList.remove('hidden');
            });

            // Install button
            document.getElementById('installBtn').addEventListener('click', async () => {
                if (appState.deferredPrompt) {
                    appState.deferredPrompt.prompt();
                    const { outcome } = await appState.deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        document.getElementById('installPrompt').classList.add('hidden');
                    }
                    appState.deferredPrompt = null;
                }
            });

            // Dismiss button
            document.getElementById('dismissBtn').addEventListener('click', () => {
                document.getElementById('installPrompt').classList.add('hidden');
            });

            // Check if already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.getElementById('installPrompt').classList.add('hidden');
            }
        }

        // Service Worker Registration
        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                const swCode = `
                    const CACHE_NAME = 'youtube-mention-generator-v1';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', (event) => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then((cache) => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', (event) => {
                        event.respondWith(
                            caches.match(event.request)
                                .then((response) => {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                })
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swURL = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swURL)
                    .then((registration) => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch((err) => {
                        console.log('ServiceWorker registration failed');
                    });
            }
        }

        // Initialize App
        function init() {
            setupFormInputs();
            setupPWA();
            registerServiceWorker();
            
            // Generate button
            document.getElementById('generateBtn').addEventListener('click', generateMention);
            
            // Translate button
            document.getElementById('translateBtn').addEventListener('click', handleTranslate);
            
            // Copy translated button
            document.addEventListener('click', (e) => {
                if (e.target.id === 'copyTranslatedBtn' || e.target.closest('#copyTranslatedBtn')) {
                    copyToClipboard(appState.translatedMention);
                }
            });
            
            // Initialize Lucide icons
            lucide.createIcons();
        }

        // Start the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
