<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üî• Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Ìä∏Î†åÎìú Î©òÏÖò ÏÉùÏÑ±Í∏∞ 2025</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1e1b4b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ïã§ÏãúÍ∞ÑÎ©òÏÖòÏÉùÏÑ±Í∏∞">
    <meta name="description" content="2025ÎÖÑ Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Ìä∏Î†åÎìúÎ•º Î∞òÏòÅÌïú AI Î©òÏÖò Ï†úÏûë ÎèÑÍµ¨">
    
    <!-- Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIuycoO2KnOu4rOu4sDIwMjUg7Yq464yE65OcIOultOuckeyjvOyEse2NvCIsCiAgInNob3J0X25hbWUiOiAi66Wt7Zy474q07IW66IC16riAIiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJ0aGVtZV9jb2xvciI6ICIjMWUxYjRiIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjMWUxYjRiIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRJNElpQm9aV2xuYUhROUlqRXlPQ0lnZG1sbGQwSnZlRDBpTUNBd0lERXlPQ0F4TWpnaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BHUmxabk0rUEdkcFluSnBaVzUwSUdsa1BTSmhJaUJ5TVQwaU1DNDNJaUJ5TWowaU1DNDVJaUJuTVQwaUkzWTFOakV3TVdVaUlHY3lQU0lqTWpjeFpqWmtJaTgrUEM5blpHVm1jejRnUEhObGNtTnNaU0JqZUQwaU5qUWlJR041UFNJMk5DSWdjakU5SWpFNElpQm1hV3hzUFNKMWNtd29JMkVwSWo0OEwzTmxjbU5zWlQ0OEwyUmxabk0rUEhSbGVIUWdlRDBpTmpRaUlIazlJamMyVENJZ1ptbHNiRDBpSTJGbFptWm1aaUlnWm05dWRDMXphWHBsUFNJeE1pSWdkR1Y0ZEMxaGJtTm9iM0k5SWsxcFpIUnNaU0lnWm05dWRDMW1ZVzFwYkhsOUlqSTJMUzVTYjJKdmRHOGlQa3hyNVEyZ0lNZHpJaUJ3YUNBNGJpOWZibVEwaUNBNGFpOWNJbTBySUNBNGJpOTFZQzQ2SWpadUxqOVBabThpSUVzblNBSWdjbTl1ZDJGeWFETjNJaUJ3ZEcwNkxTczNOSEY0ZDFkMElDQWlMelJzU2xJK1BDOTBaWGgwUGp3dmMzWm5QZz09IiwKICAgICAgInNpemVzIjogIjEyOHgxMjgiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIiwKICAgICAgInB1cnBvc2UiOiAiYW55IG1hc2thYmxlIgogICAgfQogIF0KfQ==">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Custom Styles -->
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: linear-gradient(135deg, #581c87 0%, #1e3a8a 35%, #312e81 70%, #4c1d95 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Background decoration */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #a855f7 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
            border: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 50%, #9333ea 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(99, 102, 241, 0.3);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(99, 102, 241, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.3);
        }
        
        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(16, 185, 129, 0.4);
        }
        
        .btn-white {
            background: rgba(255, 255, 255, 0.95);
            color: #374151;
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .btn-white:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-1px);
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
        }
        
        .btn-trend {
            background: linear-gradient(135deg, #ef4444 0%, #f97316 50%, #eab308 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3);
            animation: pulse-glow 2s infinite;
        }
        
        .btn-trend:hover {
            background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #ca8a04 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.4);
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3); }
            50% { box-shadow: 0 8px 30px rgba(239, 68, 68, 0.6); }
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            outline: none;
        }
        
        .radio-option {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
        }
        
        .radio-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }
        
        .radio-option.selected {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
        }
        
        .checkbox-option {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
        }
        
        .checkbox-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }
        
        .checkbox-option.selected {
            background: rgba(168, 85, 247, 0.2);
            border-color: rgba(168, 85, 247, 0.4);
        }
        
        .trend-badge {
            background: linear-gradient(135deg, #ef4444 0%, #f97316 100%);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
            animation: pulse 2s infinite;
            display: inline-block;
            margin-left: 8px;
        }
        
        .real-time-indicator {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 20px;
            padding: 8px 16px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            animation: shimmer-indicator 3s infinite;
        }
        
        @keyframes shimmer-indicator {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .install-prompt {
            animation: slideDown 0.5s ease-out;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Enhanced scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.6), rgba(59, 130, 246, 0.6));
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.8), rgba(59, 130, 246, 0.8));
        }
        
        /* Text styles */
        .title-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 50%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle-glow {
            color: #bfdbfe;
            text-shadow: 0 0 20px rgba(191, 219, 254, 0.3);
        }
        
        /* Enhanced containers */
        .main-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }
        
        .section-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Toast enhancement */
        .toast {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-padding {
                padding: 16px;
            }
            
            .mobile-text {
                font-size: 14px;
            }
            
            .mobile-btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .glass {
                backdrop-filter: blur(16px);
            }
        }
        
        /* Loading states */
        .loading-shimmer {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 25%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        /* Hover effects */
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
        }
        
        /* Icon enhancements */
        .icon-glow {
            filter: drop-shadow(0 0 8px rgba(250, 204, 21, 0.4));
        }
        
        .icon-bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
        
        /* Trend indicator animations */
        .live-dot {
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            animation: live-pulse 1.5s infinite;
        }
        
        @keyframes live-pulse {
            0% { 
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
        }
        
        /* Emotion validation styles */
        .emotion-validation-error {
            border-color: rgba(239, 68, 68, 0.6) !important;
            background: rgba(239, 68, 68, 0.1) !important;
        }
        
        .emotion-counter {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(139, 92, 246, 0.2));
            border: 1px solid rgba(168, 85, 247, 0.3);
            color: #a855f7;
            font-weight: bold;
            animation: pulse-soft 2s infinite;
        }
        
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
    </style>
</head>

<body>
    <!-- PWA Install Prompt -->
    <div id="installPrompt" class="fixed top-4 left-4 right-4 z-50 install-prompt rounded-xl shadow-xl hidden">
        <div class="p-4 text-white flex items-center justify-between">
            <div class="flex items-center gap-3">
                <i data-lucide="smartphone" class="w-6 h-6 icon-glow"></i>
                <div>
                    <div class="font-semibold text-lg">Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÌïòÍ∏∞</div>
                    <div class="text-sm opacity-90">Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìúÎ•º ÎÜìÏπòÏßÄ ÎßàÏÑ∏Ïöî!</div>
                </div>
            </div>
            <div class="flex gap-2">
                <button id="installBtn" class="btn-white px-6 py-2 rounded-lg font-semibold text-sm transition-all">
                    ÏÑ§Ïπò
                </button>
                <button id="dismissBtn" class="text-white opacity-70 hover:opacity-100 p-2 hover:bg-white/10 rounded-lg transition-all">
                    ‚úï
                </button>
            </div>
        </div>
    </div>

    <div class="min-h-screen p-4 sm:p-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8 sm:mb-12 fade-in">
                <div class="flex items-center justify-center gap-3 sm:gap-4 mb-6">
                    <i data-lucide="trending-up" class="w-8 sm:w-12 h-8 sm:h-12 text-yellow-400 icon-glow icon-bounce"></i>
                    <h1 class="text-3xl sm:text-5xl lg:text-6xl font-bold title-gradient leading-tight">
                        üî• Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å<br class="sm:hidden">
                        Ìä∏Î†åÎìú Î©òÏÖò ÏÉùÏÑ±Í∏∞
                    </h1>
                    <i data-lucide="sparkles" class="w-8 sm:w-12 h-8 sm:h-12 text-yellow-400 icon-glow pulse"></i>
                </div>
                
                <!-- Real-time indicator -->
                <div class="flex items-center justify-center mb-4">
                    <div class="real-time-indicator">
                        <div class="live-dot"></div>
                        <span>Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∞òÏòÅ</span>
                        <i data-lucide="wifi" class="w-4 h-4"></i>
                    </div>
                </div>
                
                <p class="subtitle-glow text-lg sm:text-xl lg:text-2xl font-medium mb-6">
                    2025ÎÖÑ Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Ìä∏Î†åÎìúÎ•º AIÍ∞Ä Î∂ÑÏÑùÌïòÏó¨ Î∞òÏòÅÌïú Î©òÏÖò Ï†úÏûë ÎèÑÍµ¨
                </p>
                
                <!-- Mobile Install Guide -->
                <div class="mt-6 glass rounded-xl p-4 border block sm:hidden hover-lift">
                    <div class="flex items-center justify-center gap-2 text-blue-200 text-sm">
                        <i data-lucide="download" class="w-5 h-5"></i>
                        <span>Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÌïòÏó¨ Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìúÎ•º ÎÜìÏπòÏßÄ ÎßàÏÑ∏Ïöî!</span>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-6 sm:gap-10">
                <!-- Input Form -->
                <div class="glass-strong rounded-3xl p-6 sm:p-8 hover-lift">
                    <div class="section-header -m-6 sm:-m-8 mb-6 sm:mb-8 p-6 sm:p-8 rounded-t-3xl">
                        <h2 class="text-2xl sm:text-3xl font-bold text-white flex items-center gap-3">
                            <i data-lucide="tag" class="w-6 sm:w-8 h-6 sm:h-8 text-blue-400"></i>
                            ÏΩòÌÖêÏ∏† Ï†ïÎ≥¥ ÏûÖÎ†•
                            <span class="trend-badge">AI Î∂ÑÏÑù</span>
                        </h2>
                    </div>

                    <div class="space-y-6 sm:space-y-8">
                        <!-- Keywords -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">ÌïµÏã¨ ÌÇ§ÏõåÎìú</label>
                            <input type="text" id="keywords" placeholder="Ïòà: Ï∂ïÍµ¨, ÏàòÏòÅ, ÎÜçÍµ¨ Îì±"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Sport -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">Ïä§Ìè¨Ï∏† Ï¢ÖÎ™©</label>
                            <input type="text" id="sport" placeholder="Íµ¨Ï≤¥Ï†ÅÏù∏ Ï¢ÖÎ™©Î™Ö ÏûÖÎ†•"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Date -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="calendar" class="w-5 h-5 text-blue-400"></i>
                                ÎÇ†Ïßú
                            </label>
                            <input type="date" id="date"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white text-base sm:text-lg font-medium">
                        </div>

                        <!-- Achievement -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">Ï£ºÏöî ÏÑ±Í≥º/ÏàúÍ∞Ñ</label>
                            <input type="text" id="achievement" placeholder="Ïòà: Í∞úÏù∏ ÏµúÍ≥† Í∏∞Î°ù Îã¨ÏÑ±, Ï≤´ ÏäπÎ¶¨ Îì±"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Challenge -->
                        <div class="space-y-3">
                            <label class="block text-white font-semibold text-base sm:text-lg">Í∑πÎ≥µÌïú Ïñ¥Î†§ÏõÄ</label>
                            <input type="text" id="challenge" placeholder="Ïòà: Î∂ÄÏÉÅ ÌöåÎ≥µ, Ïä¨ÎüºÌîÑ Í∑πÎ≥µ Îì±"
                                class="w-full p-4 sm:p-5 rounded-xl input-field text-white placeholder-gray-300 text-base sm:text-lg font-medium">
                        </div>

                        <!-- Video Type -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="video" class="w-5 h-5 text-purple-400"></i>
                                ÏòÅÏÉÅ ÌÉÄÏûÖ
                                <span class="trend-badge">HOT</span>
                            </label>
                            <div class="grid grid-cols-1 gap-3" id="videoTypeContainer">
                                <!-- Video type options will be inserted here -->
                            </div>
                        </div>

                        <!-- Emotion (Updated to support multiple selection) -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="heart" class="w-5 h-5 text-pink-400"></i>
                                Í∞êÏ†ï/ÌÜ§ (1-2Í∞ú ÏÑ†ÌÉù)
                                <div id="emotionCounter" class="emotion-counter px-3 py-1 rounded-full text-sm">
                                    0/2
                                </div>
                            </label>
                            <div id="emotionValidationError" class="text-red-300 text-sm hidden">
                                <i data-lucide="alert-circle" class="w-4 h-4 inline mr-1"></i>
                                ÏµúÏÜå 1Í∞ú, ÏµúÎåÄ 2Í∞úÍπåÏßÄ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.
                            </div>
                            <div class="grid grid-cols-2 gap-3" id="emotionContainer">
                                <!-- Emotion options will be inserted here -->
                            </div>
                        </div>

                        <!-- Trend Element -->
                        <div class="space-y-4">
                            <label class="block text-white font-semibold text-base sm:text-lg flex items-center gap-2">
                                <i data-lucide="zap" class="w-5 h-5 text-yellow-400"></i>
                                2025 Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú ÏöîÏÜå
                                <span class="trend-badge">LIVE</span>
                            </label>
                            <div class="space-y-3" id="trendElementContainer">
                                <!-- Trend element options will be inserted here -->
                            </div>
                        </div>

                        <!-- Real-time Trend Toggle -->
                        <div class="space-y-4">
                            <div class="bg-gradient-to-r from-red-500/20 to-orange-500/20 border border-red-500/30 rounded-xl p-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <i data-lucide="activity" class="w-5 h-5 text-red-400"></i>
                                        <div>
                                            <div class="text-red-200 font-semibold">Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∂ÑÏÑù</div>
                                            <div class="text-red-100 text-sm">ÏµúÏã† Ïú†ÌäúÎ∏å Ìä∏Î†åÎìúÎ•º Ïã§ÏãúÍ∞ÑÏúºÎ°ú Î∞òÏòÅ</div>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="realtimeTrendToggle" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"></div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Generate Button -->
                        <button id="generateBtn" class="w-full btn-trend text-white font-bold py-4 sm:py-5 px-6 sm:px-8 rounded-xl flex items-center justify-center gap-3 text-lg sm:text-xl shadow-lg">
                            <i data-lucide="zap" class="w-6 h-6"></i>
                            Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î©òÏÖò ÏÉùÏÑ±ÌïòÍ∏∞
                            <i data-lucide="refresh-cw" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>

                <!-- Generated Mention -->
                <div class="glass rounded-2xl p-4 sm:p-6">
                    <h2 class="text-xl sm:text-2xl font-semibold text-white mb-4 sm:mb-6 flex items-center gap-2">
                        <i data-lucide="target" class="w-5 sm:w-6 h-5 sm:h-6"></i>
                        Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î©òÏÖò
                        <div class="live-dot"></div>
                    </h2>

                    <!-- Trend Status -->
                    <div id="trendStatus" class="mb-4 hidden">
                        <div class="bg-green-500/20 border border-green-500/30 rounded-lg p-3">
                            <div class="flex items-center gap-2 text-green-300 text-sm">
                                <i data-lucide="check-circle" class="w-4 h-4"></i>
                                <span id="trendStatusText">ÏµúÏã† Ìä∏Î†åÎìú Î∂ÑÏÑù ÏôÑÎ£å</span>
                            </div>
                        </div>
                    </div>

                    <!-- Empty State -->
                    <div id="emptyState" class="glass rounded-lg p-6 sm:p-8 text-center">
                        <i data-lucide="users" class="w-12 sm:w-16 h-12 sm:h-16 text-gray-400 mx-auto mb-4"></i>
                        <p class="text-gray-300 text-base sm:text-lg">
                            Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÍ≥† 'Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î©òÏÖò ÏÉùÏÑ±ÌïòÍ∏∞'Î•º ÌÅ¥Î¶≠Ìï¥Ï£ºÏÑ∏Ïöî
                        </p>
                        <p class="text-gray-400 text-xs sm:text-sm mt-2">
                            AIÍ∞Ä 2025ÎÖÑ Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Ìä∏Î†åÎìúÎ•º Î∂ÑÏÑùÌïòÏó¨ ÎßûÏ∂§ Î©òÏÖòÏùÑ Ï†úÏûëÌï¥ÎìúÎ¶ΩÎãàÎã§
                        </p>
                    </div>

                    <!-- Generated Content -->
                    <div id="generatedContent" class="space-y-3 sm:space-y-4 hidden">
                        <!-- Mention Display -->
                        <div id="mentionDisplay" class="glass rounded-lg p-3 sm:p-4 min-h-[250px] sm:min-h-[300px]">
                            <pre id="mentionText" class="text-white whitespace-pre-wrap font-medium leading-relaxed text-sm sm:text-base"></pre>
                        </div>

                        <!-- Edit Mode -->
                        <div id="editMode" class="glass rounded-lg p-3 sm:p-4 hidden">
                            <textarea id="editTextarea" placeholder="Î©òÏÖòÏùÑ Ìé∏ÏßëÌï¥Ï£ºÏÑ∏Ïöî..."
                                class="w-full h-64 sm:h-80 bg-transparent text-white placeholder-gray-300 border-none outline-none resize-none font-medium leading-relaxed text-sm sm:text-base"></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div id="actionButtons" class="flex gap-2">
                            <!-- Normal mode buttons -->
                        </div>

                        <!-- Trend Analysis -->
                        <div id="trendAnalysis" class="bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 sm:p-4">
                            <div class="flex items-start gap-2">
                                <i data-lucide="brain" class="w-4 sm:w-5 h-4 sm:h-5 text-blue-400 mt-1"></i>
                                <div>
                                    <div class="text-blue-300 font-semibold mb-1 text-sm sm:text-base">Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∂ÑÏÑù Í≤∞Í≥º</div>
                                    <div class="text-blue-100 text-xs sm:text-sm" id="trendAnalysisText">
                                        AIÍ∞Ä Î∂ÑÏÑùÌïú ÏµúÏã† Ìä∏Î†åÎìúÍ∞Ä Î∞òÏòÅÎêòÏóàÏäµÎãàÎã§.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tips -->
                        <div class="bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 sm:p-4">
                            <div class="flex items-start gap-2">
                                <i data-lucide="sparkles" class="w-4 sm:w-5 h-4 sm:h-5 text-yellow-400 mt-1"></i>
                                <div>
                                    <div class="text-yellow-300 font-semibold mb-1 text-sm sm:text-base">2025 Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú ÌåÅ</div>
                                    <div class="text-yellow-100 text-xs sm:text-sm">
                                        ÏÉùÏÑ±Îêú Î©òÏÖòÏùÄ 2025ÎÖÑ Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Ìä∏Î†åÎìúÏôÄ ÏïåÍ≥†Î¶¨Ï¶òÏùÑ AIÍ∞Ä Î∂ÑÏÑùÌïòÏó¨ Î∞òÏòÅÌñàÏäµÎãàÎã§. 
                                        Î¨¥Ìï¥Î†•, Î¶¨Ïï°ÏÖò ÏΩòÌÖêÏ∏†, Î°±Ìèº Ìä∏Î†åÎìú Îì± ÏµúÏã† ÏöîÏÜåÎì§Ïù¥ Ìè¨Ìï®ÎêòÏñ¥ ÏûàÏäµÎãàÎã§!
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-6 sm:mt-8 text-center">
                <div class="glass rounded-lg p-3 sm:p-4">
                    <p class="text-blue-200 text-xs sm:text-sm">
                        üî• <strong>Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∞òÏòÅ:</strong> Î¨¥Ìï¥Î†•, Î¶¨Ïï°ÏÖò ÏΩòÌÖêÏ∏†, Î°±Ìèº, Ïä§ÏºÄÏπò ÏΩîÎØ∏Îîî, Ïò¥ÎãàÎ≥¥Ïñ¥, #ÏïÑÎ≥¥Ìïò, ÎåÑÏä§ Ï±åÎ¶∞ÏßÄ
                        <br class="hidden sm:block">
                        <span class="block sm:inline mt-1 sm:mt-0">
                            ‚ö° <strong>AI Ìä∏Î†åÎìú Î∂ÑÏÑù:</strong> Ïã§ÏãúÍ∞Ñ Ïú†ÌäúÎ∏å Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÏó¨ Í∞úÏù∏ÎßûÏ∂§Ìòï Î©òÏÖò ÏÉùÏÑ±
                        </span>
                    </p>
                </div>
                
                <!-- Mobile Install Help -->
                <div class="mt-4 bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 block sm:hidden">
                    <div class="text-blue-200 text-xs">
                        <div class="font-semibold mb-1">üì± Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÌïòÎäî Î∞©Î≤ï</div>
                        <div>iPhone: Safari ‚Üí Í≥µÏú† ‚Üí Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä</div>
                        <div>Android: Chrome ‚Üí Î©îÎâ¥ ‚Üí Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 right-4 glass rounded-lg p-4 text-white transform translate-y-full opacity-0 transition-all duration-300 z-50">
        <div class="flex items-center gap-2">
            <i data-lucide="check" class="w-5 h-5 text-green-400"></i>
            <span id="toastMessage">Î≥µÏÇ¨ ÏôÑÎ£å!</span>
        </div>
    </div>

    <script>
        // App State
        let appState = {
            formData: {
                keywords: '',
                date: '',
                videoType: 'shorts',
                sport: '',
                emotions: [], // Changed from single emotion to array
                trendElement: 'realtime-storytelling',
                achievement: '',
                challenge: ''
            },
            generatedMention: '',
            editedMention: '',
            isEditMode: false,
            deferredPrompt: null,
            realtimeTrendsEnabled: true,
            currentTrends: null
        };

        // 2025 Real-time Trend Data (Based on actual research)
        const realtimeTrendData = {
            hashtags: {
                trending: [
                    '#Î¨¥Ìï¥Î†•', '#Î¶¨Ïï°ÏÖò', '#Î°±Ìèº', '#Ïä§ÏºÄÏπòÏΩîÎØ∏Îîî', '#Ïò¥ÎãàÎ≥¥Ïñ¥', '#ÏïÑÎ≥¥Ìïò',
                    '#ÌéòÏù¥Ïä§ÌÖåÌÅ¨', '#Î¨ºÏÑ±Îß§Î†•', '#booktok', '#foodtok', '#delulu', '#coquette',
                    '#Shorts', '#Ïã§ÏãúÍ∞ÑÏÜåÌÜµ', '#ÎùºÏù¥Î∏åÏ±åÎ¶∞ÏßÄ', '#ÎåÑÏä§Ï±åÎ¶∞ÏßÄ', '#Î¨¥Ìï¥Î†•Ï∫êÎ¶≠ÌÑ∞',
                    '#ÏùºÏÉÅÏä§ÌÜ†Î¶¨', '#ÎπÑÌïòÏù∏ÎìúÏä§ÌÜ†Î¶¨', '#Î©òÌÉàÏºÄÏñ¥', '#Îç∞Ïù¥ÌÑ∞ÎìúÎ¶¨Î∏ê', '#Ïª§ÎÆ§ÎãàÌã∞',
                    '#Ïù∏ÏÉùÎÖπÏùåÏ§ë', '#ÌÉúÏöîÎØ∏ÎÑ§', '#ÏàèÎ∞ïÏä§', '#ÌïëÍ≥ÑÍ≥†', '#Ï±ÑÎÑêÏã≠Ïò§Ïïº'
                ],
                sports: [
                    '#Ïä§Ìè¨Ï∏†Ï±åÎ¶∞ÏßÄ', '#Ïö¥ÎèôÎ£®Ìã¥', '#ÌôàÌä∏Î†àÏù¥Îãù', '#ÌîºÌä∏ÎãàÏä§', '#Î∞îÎîîÌîÑÎ°úÌïÑ',
                    '#Îã§Ïù¥Ïñ¥Ìä∏Ï±åÎ¶∞ÏßÄ', '#Í±¥Í∞ïÍ¥ÄÎ¶¨', '#Ïö¥ÎèôÏùºÏßÄ', '#ÌçºÏä§ÎÑêÌä∏Î†àÏù¥Îãù', '#ÏöîÍ∞ÄÏ±åÎ¶∞ÏßÄ',
                    '#Îü¨ÎãùÏ±åÎ¶∞ÏßÄ', '#ÏàòÏòÅÏ±åÎ¶∞ÏßÄ', '#Î≥µÍ∑ºÏö¥Îèô', '#ÌûôÏóÖÏö¥Îèô', '#Ïä§Ìä∏Î†àÏπ≠',
                    '#Î©òÌÉàÌä∏Î†àÏù¥Îãù', '#Ïä§Ìè¨Ï∏†Í≥ºÌïô', '#Ïõ®Ïñ¥Îü¨Î∏îÍ∏∞Í∏∞', '#Ïö¥ÎèôÎç∞Ïù¥ÌÑ∞', '#ÌîºÌä∏ÎãàÏä§ÌÖåÌÅ¨'
                ]
            },
            trendElements: {
                'realtime-storytelling': {
                    patterns: [
                        'üìñ {keyword}Î•º ÏãúÏûëÌïú ÏßÄ {period}... Í∑∏ÎïåÎßå Ìï¥ÎèÑ Ïù¥Îü∞ ÏàúÍ∞ÑÏù¥ Ïò¨ Ï§Ñ Î™∞ÎûêÏñ¥Ïöî. Îß§ÏùºÎß§Ïùº ÏûëÏùÄ Î≥ÄÌôîÎì§Ïù¥ ÏåìÏó¨ÏÑú Ïò§ÎäòÏùò {achievement}Í∞Ä ÎêòÏóàÏäµÎãàÎã§.',
                        '‚è∞ ÏÉàÎ≤Ω 5Ïãú, ÏïÑÎ¨¥ÎèÑ Î≥¥ÏßÄ ÏïäÎäî Í≥≥ÏóêÏÑúÏùò ÌõàÎ†®. Í∑∏ Î™®Îì† ÏàúÍ∞ÑÎì§Ïù¥ ÎìúÎîîÏñ¥ ÎπõÏùÑ Î≥¥Îäî ÏàúÍ∞ÑÏûÖÎãàÎã§. #Î¨¥Ìï¥Î†• ÏÜçÏóê Ïà®Í≤®ÏßÑ ÏßÑÏßú ÎÖ∏Î†•ÏùÑ Î≥¥Ïó¨ÎìúÎ¶¥Í≤åÏöî.',
                        'üé¨ Ïπ¥Î©îÎùºÍ∞Ä Îã¥ÏßÄ Î™ªÌïú ÏßÑÏßú Ïù¥ÏïºÍ∏∞... {challenge}Î•º Í∑πÎ≥µÌïòÎäî Í≥ºÏ†ïÏóêÏÑú Î∞∞Ïö¥ Í≤ÉÎì§ÏùÑ #Î¶¨Ïï°ÏÖò ÏóÜÏù¥ ÏÜîÏßÅÌïòÍ≤å ÎßêÏîÄÎìúÎ¶¥Í≤åÏöî.'
                    ]
                },
                'reaction-content': {
                    patterns: [
                        'üò± Ïó¨Îü¨Î∂ÑÏùò Î∞òÏùëÏù¥ Í∂ÅÍ∏àÌï¥Ïöî! {achievement}Ïóê ÎåÄÌïú Ïã§ÏãúÍ∞Ñ Î¶¨Ïï°ÏÖòÏùÑ ÎåìÍ∏ÄÎ°ú ÎÇ®Í≤®Ï£ºÏÑ∏Ïöî. #Î¶¨Ïï°ÏÖòÏΩòÌÖêÏ∏†',
                        'üî• Ïù¥ ÏàúÍ∞Ñ Ïó¨Îü¨Î∂ÑÎèÑ Ìï®Íªò ÎäêÎÅºÍ≥† Í≥ÑÏã†Í∞ÄÏöî? Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÏÜåÌÜµÌïòÎ©∞ Ïù¥ Í∞êÎèôÏùÑ ÎÇòÎàÑÍ≥† Ïã∂Ïñ¥Ïöî.',
                        'üí≠ Ïó¨Îü¨Î∂ÑÏù¥ÎùºÎ©¥ Ïñ¥ÎñªÍ≤å ÌïòÏÖ®ÏùÑÍπåÏöî? {sport}ÏóêÏÑú {challenge}Î•º ÎßàÏ£ºÌñàÏùÑ Îïå... ÎåìÍ∏ÄÎ°ú Î¶¨Ïï°ÏÖò Ìï¥Ï£ºÏÑ∏Ïöî!'
                    ]
                },
                'long-form': {
                    patterns: [
                        '‚è±Ô∏è Ïò§ÎäòÏùÄ 30Î∂Ñ Î°±ÌèºÏúºÎ°ú Ï§ÄÎπÑÌñàÏñ¥Ïöî. Ìé∏Ïßë ÏóÜÏù¥, ÏûêÎßâ ÏóÜÏù¥, ÏßÑÏßú ÎÇ†Í≤ÉÏùò Ïù¥ÏïºÍ∏∞Î•º Îì§Î†§ÎìúÎ¶¥Í≤åÏöî. #Î°±ÌèºÏΩòÌÖêÏ∏†',
                        'üé• 1ÏãúÍ∞Ñ ÎÑòÎäî ÏòÅÏÉÅÏù¥ÏßÄÎßå ÎÅùÍπåÏßÄ Î¥êÏ£ºÏÑ∏Ïöî. {keyword}Ïùò ÏßÑÏßú Ïù¥ÏïºÍ∏∞Îäî Ïù¥Ï†úÎ∂ÄÌÑ∞ ÏãúÏûëÏûÖÎãàÎã§.',
                        'üì∫ Ï±ÑÎÑêÏã≠Ïò§Ïïº Ïä§ÌÉÄÏùºÎ°ú... Í∏¥ Ìò∏Ìù°ÏúºÎ°ú Ï∞®Í∑ºÏ∞®Í∑º Ïù¥ÏïºÍ∏∞Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§. ÏàèÌèºÏóê ÏßÄÏπú Î∂ÑÎì§Íªò ÏÑ†Î¨º Í∞ôÏùÄ ÏãúÍ∞ÑÏù¥ ÎêòÍ∏∏.'
                    ]
                },
                'sketch-comedy': {
                    patterns: [
                        'üé≠ ÏàèÎ∞ïÏä§Ï≤òÎüº Ïû¨ÎØ∏ÏûàÍ≤å! {sport} ÌïòÎäî ÏÇ¨ÎûåÎì§Ïùò ÏùºÏÉÅÏùÑ Ìå®Îü¨ÎîîÎ°ú ÎßåÎì§Ïñ¥Î¥§Ïñ¥Ïöî.',
                        'üòÇ ÎÑàÎçúÌä∏ ÎäêÎÇåÏúºÎ°ú... {achievement} ÏàúÍ∞ÑÏùÑ ÏΩîÎØ∏ÎîîÎ°ú Ïû¨ÌòÑÌï¥Î≥¥Í≤†ÏäµÎãàÎã§. ÌòÑÏã§ÏùÄ Ïù¥Îû¨ÎäîÎç∞ Í∏∞ÎåÄÎäî Ï†ÄÎû¨Ï£† „Öã„Öã',
                        'üé™ 180Ï¥à ÏïàÏóê ÏïïÏ∂ïÌïú {keyword} Ïä§ÌÜ†Î¶¨! ÏõÉÍ∏∞Î©¥ÏÑúÎèÑ Í∞êÎèôÏ†ÅÏù∏ ÏßÑÏßú Ïù¥ÏïºÍ∏∞ÏòàÏöî.'
                    ]
                },
                'omni-vore': {
                    patterns: [
                        'üîÑ ÎÇòÏù¥ÎèÑ ÏÑ±Î≥ÑÎèÑ ÏÉÅÍ¥ÄÏóÜÏñ¥Ïöî. {sport}ÏóêÎäî Í≤ΩÍ≥ÑÍ∞Ä ÏóÜÎã§Îäî Í±∏ Î≥¥Ïó¨ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§. #Ïò¥ÎãàÎ≥¥Ïñ¥',
                        'üåà Ï∑®Ìñ•Ïùò Î¨¥Ìïú ÏßÑÌôî! 60ÎåÄ ÌîÑÎ°úÍ≤åÏù¥Î®∏Ï≤òÎüº, Ï†ÄÎèÑ Í∏∞Ï°¥ ÌãÄÏùÑ Íπ®Í≥† ÎèÑÏ†ÑÌï¥Î≥¥Í≤†ÏäµÎãàÎã§.',
                        'üíé Ï≤ú ÏõêÏùò ÌñâÎ≥µÎ∂ÄÌÑ∞ Ï≤úÎßå ÏõêÏùò Ïû•ÎπÑÍπåÏßÄ... Î™®Îì† Í±∏ Í≤ΩÌóòÌï¥Î≥¥Îäî {keyword} Ïó¨Ï†ïÏùÑ Í≥µÏú†Ìï†Í≤åÏöî.'
                    ]
                },
                'avoha': {
                    patterns: [
                        '‚òÄÔ∏è #ÏïÑÎ≥¥Ìïò - ÌèâÎ≤îÌïú Ïò§ÎäòÏù¥ ÌäπÎ≥ÑÌï¥ÏßÄÎäî ÏàúÍ∞Ñ. {sport}Î°ú Ï±ÑÏö∞Îäî Î≥¥ÌÜµÏùò ÌïòÎ£®Í∞Ä Ïù¥Î†áÍ≤å ÏÜåÏ§ëÌï† Ï§ÑÏù¥Ïïº.',
                        'üè† ÏßëÏóêÏÑú ÌòºÏûê ÌïòÎäî {keyword} Ïó∞Ïäµ... ÎàÑÍ∞Ä ÏïåÏïÑÏ£ºÏßÄ ÏïäÏïÑÎèÑ ÎÇ¥Í∞Ä ÎäêÎÅºÎäî Ïù¥ ÎßåÏ°±Í∞êÏù¥ Ï†ÑÎ∂ÄÏòàÏöî.',
                        '‚òï ÏÜåÏÜåÌïòÏßÄÎßå ÌôïÏã§Ìïú ÌñâÎ≥µÏù¥ ÏïÑÎãå, ÏïÑÏ£º Î≥¥ÌÜµÏùò ÌïòÎ£®Î•º ÏùòÎØ∏ÏûàÍ≤å ÎßåÎìúÎäî {achievement}Ïùò Ìûò.'
                    ]
                },
                'face-tech': {
                    patterns: [
                        'üì± ÏµúÏã† Í∏∞Ïà†Î°ú Î∂ÑÏÑùÌïú Ï†ú {keyword} ÌèºÏùÑ Í≥µÍ∞úÌï©ÎãàÎã§! AIÍ∞Ä ÏïåÎ†§Ï§Ä Í∞úÏÑ†Ï†êÎì§Ïù¥ Ï†ïÎßê Ïã†Í∏∞Ìï¥Ïöî.',
                        '‚åö Ïõ®Ïñ¥Îü¨Î∏î Í∏∞Í∏∞Í∞Ä Ï∏°Ï†ïÌïú Îç∞Ïù¥ÌÑ∞Î•º Î≥¥Îãà... {achievement} ÏàúÍ∞ÑÏùò Ïã¨Î∞ïÏàòÍ∞Ä Ïù¥Îû¨Îã§Í≥† ÌïòÎÑ§Ïöî.',
                        'ü§ñ ÌéòÏù¥Ïä§ÌÖåÌÅ¨ ÌôúÏö©Ìï¥ÏÑú {sport} Ïã§Î†•ÏùÑ Ìïú Îã®Í≥Ñ ÏóÖÍ∑∏Î†àÏù¥Îìú! Í≥ºÌïôÏ†Å Ï†ëÍ∑ºÏù¥ Ïù¥Î†áÍ≤å Ïû¨ÎØ∏ÏûàÏùÑ Ï§ÑÏù¥Ïïº.'
                    ]
                },
                'material-charm': {
                    patterns: [
                        '‚ú® Î¨ºÏÑ±Ïùò Îß§Î†•Ïóê Îπ†Ï°åÏñ¥Ïöî. {sport} Ïû•ÎπÑÏùò ÏßàÍ∞ê, Î¨¥Í≤åÍ∞ê... Ïù¥Îü∞ ÎîîÌÖåÏùºÏù¥ Ï£ºÎäî ÎßåÏ°±Í∞êÏù¥ ÏûàÏñ¥Ïöî.',
                        'üéØ Î∏åÎûúÎìúÍ∞Ä ÏïÑÎãå ÏÜåÏû¨ ÏûêÏ≤¥Ïóê ÎÅåÎ†§ÏÑú ÏÑ†ÌÉùÌïú {keyword} Ïö©ÌíàÎì§. ÏßÑÏßú Ï¢ãÏùÄ Í±¥ Îã§Î•¥ÎçîÎùºÍ≥†Ïöî.',
                        'üîç ÎîîÌÖåÏùºÏóê ÏßëÏ§ëÌï¥Î≥¥ÏÑ∏Ïöî. {achievement} ÏàúÍ∞ÑÏóê ÎäêÍª¥ÏßÄÎäî Î™®Îì† Í∞êÍ∞ÅÎì§Ïù¥ ÏñºÎßàÎÇò ÏÜåÏ§ëÌïúÏßÄ...'
                    ]
                }
            },
            videoTypes: [
                { 
                    value: 'shorts', 
                    label: 'YouTube Shorts (15-60Ï¥à)', 
                    icon: 'üì±',
                    trend: 'HOT',
                    description: 'Î¨¥Ìï¥Î†• ÏΩòÌÖêÏ∏† ÎåÄÏÑ∏'
                },
                { 
                    value: 'reaction', 
                    label: 'Î¶¨Ïï°ÏÖò ÏòÅÏÉÅ (3-10Î∂Ñ)', 
                    icon: 'üò±',
                    trend: 'TRENDING',
                    description: 'Ïã§ÏãúÍ∞Ñ ÏÜåÌÜµ Ìä∏Î†åÎìú'
                },
                { 
                    value: 'long-form', 
                    label: 'Î°±Ìèº ÏΩòÌÖêÏ∏† (30Î∂Ñ+)', 
                    icon: 'üé¨',
                    trend: 'NEW',
                    description: 'ÍπäÏù¥ ÏûàÎäî Ïä§ÌÜ†Î¶¨ÌÖîÎßÅ'
                },
                { 
                    value: 'live', 
                    label: 'ÎùºÏù¥Î∏å Ïä§Ìä∏Î¶º', 
                    icon: 'üî¥',
                    trend: 'LIVE',
                    description: 'Ïã§ÏãúÍ∞Ñ Ïª§ÎÆ§ÎãàÌã∞'
                },
                { 
                    value: 'sketch', 
                    label: 'Ïä§ÏºÄÏπò ÏΩîÎØ∏Îîî (5-15Î∂Ñ)', 
                    icon: 'üé≠',
                    trend: 'VIRAL',
                    description: 'ÏàèÎ∞ïÏä§ Ïä§ÌÉÄÏùº Ïù∏Í∏∞'
                }
            ],
            emotions: [
                { value: 'excited', label: 'Ìù•ÎØ∏ÏßÑÏßÑÌïú', emoji: 'üî•', trend: 'HOT' },
                { value: 'grateful', label: 'Í∞êÏÇ¨Ìïú', emoji: 'üôè', trend: '' },
                { value: 'determined', label: 'ÏùòÏßÄÏóê Ï∞¨', emoji: 'üí™', trend: '' },
                { value: 'reflective', label: 'ÎèåÏïÑÎ≥¥Îäî', emoji: 'üí≠', trend: 'DEEP' },
                { value: 'proud', label: 'ÏûêÎûëÏä§Îü¨Ïö¥', emoji: '‚ú®', trend: '' },
                { value: 'harmless', label: 'Î¨¥Ìï¥Ìïú', emoji: 'üòá', trend: 'TRENDING' },
                { value: 'authentic', label: 'ÏßÑÏÜîÌïú', emoji: 'üíØ', trend: 'NEW' }
            ]
        };

        // Mock function to simulate real-time trend analysis
        async function analyzeTrends(formData) {
            // Simulate API call delay
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            const trendKeywords = [];
            const currentHour = new Date().getHours();
            
            // Time-based trending
            if (currentHour >= 6 && currentHour <= 9) {
                trendKeywords.push('ÏÉàÎ≤ΩÌõàÎ†®', 'Î™®ÎãùÎ£®Ìã¥', 'ÏùºÏ∞çÏùºÏñ¥ÎÇòÍ∏∞Ï±åÎ¶∞ÏßÄ');
            } else if (currentHour >= 18 && currentHour <= 22) {
                trendKeywords.push('Ìá¥Í∑ºÌõÑÏö¥Îèô', 'Ï†ÄÎÖÅÎ£®Ìã¥', 'ÏïºÍ∞ÑÌõàÎ†®');
            }
            
            // Sport-specific trending
            const sportTrends = {
                'Ï∂ïÍµ¨': ['Î∞úÎ°±ÎèÑÎ•¥2025', 'ÏõîÎìúÏªµÏòàÏÑ†', 'ÏÜêÌù•ÎØºÏ±åÎ¶∞ÏßÄ'],
                'ÎÜçÍµ¨': ['NBA2025', '3Ï†êÏäõÏ±åÎ¶∞ÏßÄ', 'Îç©ÌÅ¨Ï±åÎ¶∞ÏßÄ'],
                'ÏàòÏòÅ': ['Ïò¨Î¶ºÌîΩÏ§ÄÎπÑ', 'ÏûêÏú†ÌòïÏ±åÎ¶∞ÏßÄ', 'ÏàòÏòÅÎã§Ïù¥Ïñ¥Ìä∏'],
                'ÏïºÍµ¨': ['WBC2025', 'ÌôàÎü∞Ï±åÎ¶∞ÏßÄ', 'Ìà¨Íµ¨ÌèºÎ∂ÑÏÑù'],
                'ÌÖåÎãàÏä§': ['ÏúîÎ∏îÎçò2025', 'ÏÑúÎ∏åÏ±åÎ¶∞ÏßÄ', 'Î∞±Ìï∏ÎìúÎßàÏä§ÌÑ∞']
            };
            
            if (formData.sport && sportTrends[formData.sport]) {
                trendKeywords.push(...sportTrends[formData.sport]);
            }
            
            // Add general 2025 trends
            trendKeywords.push('Î¨¥Ìï¥Î†•', 'Î¶¨Ïï°ÏÖòÏΩòÌÖêÏ∏†', 'Î°±ÌèºÏòÅÏÉÅ', 'AIÎ∂ÑÏÑù', 'Ïã§ÏãúÍ∞ÑÏÜåÌÜµ');
            
            return {
                keywords: trendKeywords,
                analysis: `2025ÎÖÑ ${formData.sport} Ìä∏Î†åÎìú Î∂ÑÏÑù: ${trendKeywords.slice(0, 3).join(', ')} Îì±Ïù¥ Í∏âÏÉÅÏäπ Ï§ëÏûÖÎãàÎã§.`,
                confidence: Math.floor(Math.random() * 20) + 80, // 80-100%
                timestamp: new Date().toISOString()
            };
        }

        // Enhanced Mention Generation with Multiple Emotions
        async function generateMention() {
            const generateBtn = document.getElementById('generateBtn');
            const originalText = generateBtn.innerHTML;
            
            // Validate emotions selection
            if (!validateEmotions()) {
                showEmotionValidationError();
                return;
            }
            
            // Show loading state
            generateBtn.innerHTML = `
                <i data-lucide="loader-2" class="w-6 h-6 animate-spin"></i>
                Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∂ÑÏÑù Ï§ë...
                <i data-lucide="wifi" class="w-6 h-6"></i>
            `;
            generateBtn.disabled = true;
            
            try {
                let trendData = null;
                
                if (appState.realtimeTrendsEnabled) {
                    // Show trend analysis status
                    showTrendStatus('Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î∂ÑÏÑù Ï§ë...', 'analyzing');
                    
                    // Analyze current trends
                    trendData = await analyzeTrends(appState.formData);
                    appState.currentTrends = trendData;
                    
                    showTrendStatus('ÏµúÏã† Ìä∏Î†åÎìú Î∂ÑÏÑù ÏôÑÎ£å!', 'success');
                }
                
                // Generate mention with trend data
                const mention = generateTrendAwareMention(trendData);
                
                appState.generatedMention = mention;
                appState.editedMention = '';
                appState.isEditMode = false;
                
                updateUI();
                
                // Show trend analysis in UI
                if (trendData) {
                    document.getElementById('trendAnalysisText').textContent = trendData.analysis;
                }
                
            } catch (error) {
                console.error('Error generating mention:', error);
                showTrendStatus('Ìä∏Î†åÎìú Î∂ÑÏÑù Ïã§Ìå® - Í∏∞Î≥∏ Î™®ÎìúÎ°ú ÏÉùÏÑ±', 'error');
                
                // Fallback to basic generation
                const mention = generateBasicMention();
                appState.generatedMention = mention;
                updateUI();
            } finally {
                // Restore button
                generateBtn.innerHTML = originalText;
                generateBtn.disabled = false;
                lucide.createIcons();
            }
        }

        function validateEmotions() {
            return appState.formData.emotions.length >= 1 && appState.formData.emotions.length <= 2;
        }

        function showEmotionValidationError() {
            const errorElement = document.getElementById('emotionValidationError');
            const emotionContainer = document.getElementById('emotionContainer');
            
            errorElement.classList.remove('hidden');
            emotionContainer.classList.add('emotion-validation-error');
            
            // Remove error styling after 3 seconds
            setTimeout(() => {
                errorElement.classList.add('hidden');
                emotionContainer.classList.remove('emotion-validation-error');
            }, 3000);
        }

        function generateTrendAwareMention(trendData) {
            const { formData } = appState;
            const trendElement = realtimeTrendData.trendElements[formData.trendElement] || realtimeTrendData.trendElements['realtime-storytelling'];
            
            // Select pattern and customize with real-time data
            const patterns = trendElement.patterns;
            const selectedPattern = patterns[Math.floor(Math.random() * patterns.length)];
            
            // Replace placeholders with actual data
            let customizedPattern = selectedPattern
                .replace('{keyword}', formData.keywords || 'Ïö¥Îèô')
                .replace('{sport}', formData.sport || 'Ïä§Ìè¨Ï∏†')
                .replace('{achievement}', formData.achievement || 'ÏÑ±Í≥º')
                .replace('{challenge}', formData.challenge || 'ÎèÑÏ†Ñ')
                .replace('{period}', '6Í∞úÏõî');
            
            // Build complete mention with multiple emotions
            const videoTypeInfo = realtimeTrendData.videoTypes.find(v => v.value === formData.videoType);
            const videoText = getVideoTypeText(formData.videoType, videoTypeInfo);
            
            // Select trending hashtags
            const trendingHashtags = selectTrendingHashtags(trendData, formData);
            
            // Add real-time insights with combined emotions
            const insights = generateTrendInsights(trendData, formData);
            const goals = generateFutureGoals(formData);
            const emotionText = generateEmotionText(formData.emotions);
            
            const mention = `${customizedPattern}

${emotionText}

${insights}

${goals}

${videoText}

${trendingHashtags}

#${formData.sport} #2025Ìä∏Î†åÎìú #Ïã§ÏãúÍ∞Ñ`;

            return mention;
        }

        function generateEmotionText(selectedEmotions) {
            if (selectedEmotions.length === 0) return '';
            
            const emotionData = realtimeTrendData.emotions.filter(e => selectedEmotions.includes(e.value));
            
            if (emotionData.length === 1) {
                const emotion = emotionData[0];
                return `${emotion.emoji} ${emotion.label} ÎßàÏùåÏúºÎ°ú Ïù¥ ÏàúÍ∞ÑÏùÑ ÎÇòÎàÑÍ≥† Ïã∂Ïñ¥Ïöî.`;
            } else if (emotionData.length === 2) {
                const [emotion1, emotion2] = emotionData;
                return `${emotion1.emoji} ${emotion1.label}ÌïòÎ©¥ÏÑúÎèÑ ${emotion2.emoji} ${emotion2.label} Í∏∞Î∂ÑÏù¥ÏóêÏöî. Ïù¥Îü∞ Î≥µÏû°Ìïú Í∞êÏ†ïÎèÑ Ìï®Íªò ÎäêÍª¥Î≥¥ÏÑ∏Ïöî.`;
            }
            
            return '';
        }

        function generateBasicMention() {
            // Fallback basic generation with multiple emotions support
            const { formData } = appState;
            
            const hooks = {
                excited: ['üî• Ïù¥ ÏàúÍ∞ÑÏùÑ ÏúÑÌï¥ ÏñºÎßàÎÇò Í∏∞Îã§Î†∏ÎäîÏßÄ...', '‚ö° ÎìúÎîîÏñ¥ Ìï¥ÎÉàÎã§!', 'üöÄ ÏÉÅÏÉÅÎèÑ Î™ªÌñàÎçò ÏùºÏù¥...'],
                grateful: ['üôè Î™®Îì† Î∂ÑÎì§ ÎçïÎ∂ÑÏóê...', '‚ù§Ô∏è Ï†ïÎßê Í∞êÏÇ¨Ìïú ÎßàÏùåÏúºÎ°ú...', '‚ú® Ïù¥Îü∞ Í∏∞ÌöåÎ•º Ï£ºÏã†...'],
                determined: ['üí™ Ìè¨Í∏∞ÌïòÏßÄ ÏïäÍ∏∏ Ï†ïÎßê ÏûòÌñàÏñ¥Ïöî', 'üéØ Î™©ÌëúÎ•º Ìñ•Ìïú Ìïú Í±∏Ïùå', '‚ö° Îçî Í∞ïÌï¥ÏßÄÍ∏∞ ÏúÑÌï¥...'],
                reflective: ['üí≠ ÎèåÏù¥ÏºúÎ≥¥Î©¥...', 'üìñ Í∑∏Îïå Í∑∏ ÏàúÍ∞ÑÏù¥...', 'üåü Ïù¥ Ïó¨Ï†ïÏùÑ ÌÜµÌï¥ Î∞∞Ïö¥ Í≤ÉÏùÄ...'],
                proud: ['‚ú® ÏûêÎûëÏä§Îü¨Ïö¥ ÏàúÍ∞Ñ', 'üèÜ Ïù¥ ÏÑ±Í≥ºÍ∞Ä ÏùòÎØ∏ÌïòÎäî Í≤ÉÏùÄ...', 'üåü ÎìúÎîîÏñ¥ Ïù¥Î£®Ïñ¥ÎÇ∏...'],
                harmless: ['üòá ÏûëÍ≥† ÏÜåÏÜåÌïú Î≥ÄÌôîÍ∞Ä...', 'üå∏ ÏàúÏàòÌïú ÎßàÏùåÏúºÎ°ú...', '‚òÄÔ∏è ÌèâÎ≤îÌïú ÏùºÏÉÅ ÏÜçÏóêÏÑú...'],
                authentic: ['üíØ ÏßÑÏßú Ïù¥ÏïºÍ∏∞Î•º Îì§Î†§ÎìúÎ¶¥Í≤åÏöî', 'üéØ Í∞ÄÏãù ÏóÜÏù¥ ÏÜîÏßÅÌïòÍ≤å...', 'üì∑ Ïπ¥Î©îÎùº Îí§Ïùò ÏßÑÏã§ÏùÄ...']
            };

            // Select hook based on first emotion or random if none
            const primaryEmotion = formData.emotions.length > 0 ? formData.emotions[0] : 'excited';
            const selectedHook = hooks[primaryEmotion][Math.floor(Math.random() * hooks[primaryEmotion].length)];
            const basicHashtags = realtimeTrendData.hashtags.trending.slice(0, 8).join(' ');
            const emotionText = generateEmotionText(formData.emotions);
            
            return `${selectedHook}

${emotionText}

üìñ ${formData.keywords || 'Ïö¥Îèô'}Ïùò Ïó¨Ï†ïÏù¥ Ïù¥Î†áÍ≤å ÏùòÎØ∏ÏûàÏùÑ Ï§Ñ Î™∞ÎûêÏñ¥Ïöî.

üí™ ${formData.achievement || 'Ïù¥ ÏÑ±Í≥º'}Î•º Ïù¥Î£®Í∏∞ÍπåÏßÄÏùò Í≥ºÏ†ïÏùÑ ÎÇòÎàÑÍ≥† Ïã∂Ïñ¥Ïöî.

üé• ÏûêÏÑ∏Ìïú Ïù¥ÏïºÍ∏∞Îäî ÏòÅÏÉÅÏóêÏÑú ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî!

${basicHashtags}

#${formData.sport} #2025Ìä∏Î†åÎìú #Ïú†ÌäúÎ∏å`;
        }

        function selectTrendingHashtags(trendData, formData) {
            let hashtags = [...realtimeTrendData.hashtags.trending];
            
            // Add sport-specific hashtags
            if (formData.sport) {
                hashtags.push(...realtimeTrendData.hashtags.sports);
            }
            
            // Add real-time trending keywords
            if (trendData && trendData.keywords) {
                trendData.keywords.forEach(keyword => {
                    hashtags.push(`#${keyword}`);
                });
            }
            
            // Remove duplicates and select random subset
            hashtags = [...new Set(hashtags)];
            const selectedHashtags = hashtags
                .sort(() => 0.5 - Math.random())
                .slice(0, 10);
            
            return selectedHashtags.join(' ');
        }

        function generateTrendInsights(trendData, formData) {
            const insights = [
                `‚ö° ${formData.keywords}Î•º ÌÜµÌï¥ Î∞∞Ïö¥ Í∞ÄÏû• ÌÅ∞ ÍµêÌõàÏùÄ 'Íæ∏Ï§ÄÌï®Ïù¥ Ïû¨Îä•ÏùÑ Ïù¥Í∏¥Îã§'Îäî Í≤É`,
                `üéØ Ïã§Ìå®Î•º ÎëêÎ†§ÏõåÌïòÏßÄ ÏïäÍ≥† ÎèÑÏ†ÑÌïòÎäî Ïö©Í∏∞Í∞Ä Í∞ÄÏû• Ï§ëÏöîÌïú ÏûêÏÇ∞`,
                `üí° ÏôÑÎ≤ΩÌïòÏßÄ ÏïäÏïÑÎèÑ Í¥úÏ∞ÆÎã§, ÏÑ±Ïû•ÌïòÎäî Í≥ºÏ†ï ÏûêÏ≤¥Í∞Ä ÏïÑÎ¶ÑÎãµÎã§`,
                `üåü Í≤ΩÏüÅÎ≥¥Îã§Îäî Ïñ¥Ï†úÏùò ÎÇòÏôÄÏùò ÎπÑÍµêÍ∞Ä ÏßÑÏ†ïÌïú ÏÑ±Ïû•Ïùò Í∏∞Ï§Ä`,
                `ü§ù ÌòºÏûêÍ∞Ä ÏïÑÎãàÎùº Ìï®ÍªòÌï† Îïå Îçî ÌÅ∞ ÌûòÏù¥ ÎÇòÏò®Îã§Îäî Í≤É`,
                `üß† Î™∏ÎßåÌÅº ÎßàÏùåÎèÑ Îã®Îã®Ìï¥Ï†∏Ïïº ÌïúÎã§Îäî Í±∏ Î∞∞Ïõ†Ïñ¥Ïöî`,
                `üìä Îç∞Ïù¥ÌÑ∞Í∞Ä ÏïåÎ†§Ï§Ä ÏûëÏùÄ Î≥ÄÌôîÎì§Ïù¥ Í≤∞Íµ≠ ÌÅ∞ ÏÑ±Í≥ºÎ°ú Ïù¥Ïñ¥Ï°åÏñ¥Ïöî`
            ];
            
            return insights[Math.floor(Math.random() * insights.length)];
        }

        function generateFutureGoals(formData) {
            const goals = [
                `üéØ Îã§Ïùå Î™©ÌëúÎäî ${formData.keywords}ÏóêÏÑú Ìïú Îã®Í≥Ñ Îçî ÏÑ±Ïû•ÌïòÎäî Í≤É`,
                `üöÄ Ïù¥Î≤à Í≤ΩÌóòÏùÑ Î∞îÌÉïÏúºÎ°ú Îçî ÌÅ∞ Î¨¥ÎåÄÏóê ÎèÑÏ†ÑÌïòÍ≥† Ïã∂Ïñ¥Ïöî`,
                `üí™ Íæ∏Ï§ÄÌïú ÌõàÎ†®ÏúºÎ°ú ÎÇ¥ÎÖÑÏóêÎäî Îçî Î∞úÏ†ÑÎêú Î™®Ïäµ Î≥¥Ïó¨ÎìúÎ¶¥Í≤åÏöî`,
                `üåü ÌõÑÎ∞∞Îì§ÏóêÍ≤åÎèÑ Ï¢ãÏùÄ Î°§Î™®Îç∏Ïù¥ ÎêòÍ≥† Ïã∂ÏäµÎãàÎã§`,
                `‚≠ê Í∂ÅÍ∑πÏ†ÅÏúºÎ°úÎäî ${formData.sport}ÏóêÏÑú ÏµúÍ≥†Í∞Ä ÎêòÎäî Í∑∏ÎÇ†ÍπåÏßÄ`,
                `üé™ ÏÉàÎ°úÏö¥ Ï±åÎ¶∞ÏßÄÎ°ú Ïó¨Îü¨Î∂ÑÍ≥º Ìï®Íªò ÏÑ±Ïû•Ìï¥ÎÇòÍ∞ÄÍ≤†ÏäµÎãàÎã§`,
                `üìà Îçî ÎßéÏùÄ Î∂ÑÎì§Í≥º Ïù¥ Í≤ΩÌóòÏùÑ ÎÇòÎàÑÍ≥† Ïã∂Ïñ¥Ïöî`
            ];
            
            return goals[Math.floor(Math.random() * goals.length)];
        }

        function getVideoTypeText(videoType, videoTypeInfo) {
            const videoTexts = {
                shorts: 'üì± 60Ï¥àÎ°ú ÏïïÏ∂ïÌïú Ïù¥ ÏàúÍ∞Ñ, ÎÜìÏπòÏßÄ ÎßàÏÑ∏Ïöî! #Shorts',
                reaction: 'üò± Ïó¨Îü¨Î∂ÑÏùò Ïã§ÏãúÍ∞Ñ Î¶¨Ïï°ÏÖòÏù¥ Í∂ÅÍ∏àÌï¥Ïöî! ÎåìÍ∏ÄÎ°ú Ìï®ÍªòÌï¥Ï£ºÏÑ∏Ïöî',
                'long-form': 'üé¨ 30Î∂Ñ Î°±ÌèºÏúºÎ°ú ÍπäÏù¥ ÏûàÎäî Ïù¥ÏïºÍ∏∞Î•º Ï§ÄÎπÑÌñàÏñ¥Ïöî. ÎÅùÍπåÏßÄ Ìï®ÍªòÌï¥Ï£ºÏÑ∏Ïöî',
                live: 'üî¥ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Ïó¨Îü¨Î∂ÑÍ≥º ÎÇòÎàÑÍ≥† Ïã∂ÏóàÎçò Ïù¥ÏïºÍ∏∞',
                sketch: 'üé≠ Ïû¨ÎØ∏ÏûàÍ≤å Í∞ÅÏÉâÌïú Ïä§ÌÜ†Î¶¨! ÏõÉÏúºÎ©¥ÏÑú Î¥êÏ£ºÏÑ∏Ïöî'
            };
            
            return videoTexts[videoType] || videoTexts.shorts;
        }

        function showTrendStatus(message, type) {
            const trendStatus = document.getElementById('trendStatus');
            const trendStatusText = document.getElementById('trendStatusText');
            
            trendStatus.classList.remove('hidden');
            trendStatusText.textContent = message;
            
            // Update styling based on type
            const statusDiv = trendStatus.querySelector('div');
            statusDiv.className = 'bg-blue-500/20 border border-blue-500/30 rounded-lg p-3';
            
            if (type === 'success') {
                statusDiv.className = 'bg-green-500/20 border border-green-500/30 rounded-lg p-3';
            } else if (type === 'error') {
                statusDiv.className = 'bg-red-500/20 border border-red-500/30 rounded-lg p-3';
            } else if (type === 'analyzing') {
                statusDiv.className = 'bg-orange-500/20 border border-orange-500/30 rounded-lg p-3';
            }
        }

        // UI Updates (Enhanced)
        function updateUI() {
            const emptyState = document.getElementById('emptyState');
            const generatedContent = document.getElementById('generatedContent');
            const mentionDisplay = document.getElementById('mentionDisplay');
            const editMode = document.getElementById('editMode');
            const mentionText = document.getElementById('mentionText');
            const editTextarea = document.getElementById('editTextarea');

            if (appState.generatedMention) {
                emptyState.classList.add('hidden');
                generatedContent.classList.remove('hidden');

                if (appState.isEditMode) {
                    mentionDisplay.classList.add('hidden');
                    editMode.classList.remove('hidden');
                    editTextarea.value = appState.editedMention || appState.generatedMention;
                } else {
                    mentionDisplay.classList.remove('hidden');
                    editMode.classList.add('hidden');
                    mentionText.textContent = appState.editedMention || appState.generatedMention;
                }

                updateActionButtons();
            } else {
                emptyState.classList.remove('hidden');
                generatedContent.classList.add('hidden');
                document.getElementById('trendStatus').classList.add('hidden');
            }
        }

        function updateActionButtons() {
            const actionButtons = document.getElementById('actionButtons');
            
            if (appState.isEditMode) {
                actionButtons.innerHTML = `
                    <button id="saveEditBtn" class="flex-1 btn-success text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="check" class="w-5 h-5"></i>
                        Ìé∏Ïßë ÏôÑÎ£å
                    </button>
                    <button id="cancelEditBtn" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        Ï∑®ÏÜå
                    </button>
                `;
                
                document.getElementById('saveEditBtn').addEventListener('click', saveEdit);
                document.getElementById('cancelEditBtn').addEventListener('click', cancelEdit);
            } else {
                actionButtons.innerHTML = `
                    <button id="editBtn" class="flex-1 btn-secondary text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="edit-3" class="w-5 h-5"></i>
                        Ìé∏ÏßëÌïòÍ∏∞
                    </button>
                    <button id="copyBtn" class="flex-1 btn-white py-3 sm:py-4 px-4 sm:px-6 rounded-xl font-bold flex items-center justify-center gap-2 text-base sm:text-lg shadow-lg hover-lift">
                        <i data-lucide="copy" class="w-5 h-5"></i>
                        Î≥µÏÇ¨ÌïòÍ∏∞
                    </button>
                `;
                
                document.getElementById('editBtn').addEventListener('click', startEdit);
                document.getElementById('copyBtn').addEventListener('click', () => copyToClipboard(appState.editedMention || appState.generatedMention));
            }
            
            // Re-initialize Lucide icons
            lucide.createIcons();
        }

        // Edit Functions
        function startEdit() {
            appState.isEditMode = true;
            appState.editedMention = appState.editedMention || appState.generatedMention;
            updateUI();
        }

        function saveEdit() {
            appState.editedMention = document.getElementById('editTextarea').value;
            appState.isEditMode = false;
            updateUI();
        }

        function cancelEdit() {
            appState.isEditMode = false;
            appState.editedMention = '';
            updateUI();
        }

        // Copy to Clipboard
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                showToast('Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î©òÏÖò Î≥µÏÇ¨ ÏôÑÎ£å! üî•');
            } catch (err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('Ïã§ÏãúÍ∞Ñ Ìä∏Î†åÎìú Î©òÏÖò Î≥µÏÇ¨ ÏôÑÎ£å! üî•');
            }
        }

        // Toast Notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.remove('translate-y-full', 'opacity-0');
            toast.classList.add('translate-y-0', 'opacity-100');
            
            // Add fade-in animation
            toast.classList.add('fade-in');
            
            setTimeout(() => {
                toast.classList.add('translate-y-full', 'opacity-0');
                toast.classList.remove('translate-y-0', 'opacity-100', 'fade-in');
            }, 3000);
        }

        // Emotion Counter Update
        function updateEmotionCounter() {
            const counter = document.getElementById('emotionCounter');
            const count = appState.formData.emotions.length;
            counter.textContent = `${count}/2`;
            
            if (count === 0) {
                counter.style.background = 'linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.2))';
                counter.style.borderColor = 'rgba(239, 68, 68, 0.3)';
                counter.style.color = '#ef4444';
            } else if (count === 1) {
                counter.style.background = 'linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.2))';
                counter.style.borderColor = 'rgba(251, 191, 36, 0.3)';
                counter.style.color = '#fbbf24';
            } else {
                counter.style.background = 'linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2))';
                counter.style.borderColor = 'rgba(16, 185, 129, 0.3)';
                counter.style.color = '#10b981';
            }
        }

        // Form Input Handlers (Enhanced for multiple emotions)
        function setupFormInputs() {
            // Text inputs
            ['keywords', 'sport', 'achievement', 'challenge'].forEach(field => {
                const element = document.getElementById(field);
                if (element) {
                    element.addEventListener('input', (e) => {
                        appState.formData[field] = e.target.value;
                    });
                }
            });
            
            // Date input
            const dateElement = document.getElementById('date');
            if (dateElement) {
                // Set today's date as default
                dateElement.value = new Date().toISOString().split('T')[0];
                dateElement.addEventListener('input', (e) => {
                    appState.formData.date = e.target.value;
                });
            }

            // Real-time trend toggle
            const realtimeTrendToggle = document.getElementById('realtimeTrendToggle');
            realtimeTrendToggle.addEventListener('change', (e) => {
                appState.realtimeTrendsEnabled = e.target.checked;
            });

            // Video types with trend indicators
            const videoTypeContainer = document.getElementById('videoTypeContainer');
            realtimeTrendData.videoTypes.forEach(type => {
                const label = document.createElement('label');
                label.className = 'radio-option flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all';
                
                const trendBadge = type.trend ? `<span class="trend-badge">${type.trend}</span>` : '';
                
                label.innerHTML = `
                    <input type="radio" name="videoType" value="${type.value}" ${type.value === 'shorts' ? 'checked' : ''} class="sr-only">
                    <div class="w-5 h-5 rounded-full border-2 border-white/30 flex items-center justify-center">
                        <div class="w-2.5 h-2.5 rounded-full bg-blue-400 opacity-0 transition-opacity"></div>
                    </div>
                    <span class="text-2xl">${type.icon}</span>
                    <div class="flex-1">
                        <div class="text-white text-base sm:text-lg font-medium flex items-center gap-2">
                            ${type.label} ${trendBadge}
                        </div>
                        <div class="text-gray-300 text-xs sm:text-sm">${type.description}</div>
                    </div>
                `;
                
                const radio = label.querySelector('input');
                const indicator = label.querySelector('div > div');
                
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        appState.formData.videoType = e.target.value;
                        
                        // Update all radio indicators
                        document.querySelectorAll('input[name="videoType"]').forEach(r => {
                            const parentLabel = r.closest('label');
                            const ind = parentLabel.querySelector('div > div');
                            if (r.checked) {
                                parentLabel.classList.add('selected');
                                ind.style.opacity = '1';
                            } else {
                                parentLabel.classList.remove('selected');
                                ind.style.opacity = '0';
                            }
                        });
                    }
                });
                
                // Set initial state
                if (type.value === 'shorts') {
                    label.classList.add('selected');
                    indicator.style.opacity = '1';
                }
                
                videoTypeContainer.appendChild(label);
            });

            // Emotions with checkbox functionality (1-2 selections)
            const emotionContainer = document.getElementById('emotionContainer');
            realtimeTrendData.emotions.forEach(emotion => {
                const label = document.createElement('label');
                label.className = 'checkbox-option flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all';
                
                const trendBadge = emotion.trend ? `<span class="trend-badge">${emotion.trend}</span>` : '';
                
                label.innerHTML = `
                    <input type="checkbox" name="emotion" value="${emotion.value}" class="sr-only">
                    <div class="w-4 h-4 rounded border-2 border-white/30 flex items-center justify-center">
                        <i data-lucide="check" class="w-3 h-3 text-pink-400 opacity-0 transition-opacity"></i>
                    </div>
                    <span class="text-xl">${emotion.emoji}</span>
                    <div class="flex-1">
                        <span class="text-white text-sm sm:text-base font-medium flex items-center gap-2">
                            ${emotion.label} ${trendBadge}
                        </span>
                    </div>
                `;
                
                const checkbox = label.querySelector('input');
                const indicator = label.querySelector('i');
                
                checkbox.addEventListener('change', (e) => {
                    const value = e.target.value;
                    const isChecked = e.target.checked;
                    
                    if (isChecked) {
                        // Check if we can add more emotions (max 2)
                        if (appState.formData.emotions.length >= 2) {
                            e.target.checked = false;
                            showToast('ÏµúÎåÄ 2Í∞úÍπåÏßÄÎßå ÏÑ†ÌÉùÌï† Ïàò ÏûàÏäµÎãàÎã§');
                            return;
                        }
                        
                        if (!appState.formData.emotions.includes(value)) {
                            appState.formData.emotions.push(value);
                        }
                        
                        label.classList.add('selected');
                        indicator.style.opacity = '1';
                    } else {
                        const index = appState.formData.emotions.indexOf(value);
                        if (index > -1) {
                            appState.formData.emotions.splice(index, 1);
                        }
                        
                        label.classList.remove('selected');
                        indicator.style.opacity = '0';
                    }
                    
                    // Update counter
                    updateEmotionCounter();
                    
                    // Clear validation error if exists
                    if (appState.formData.emotions.length >= 1) {
                        document.getElementById('emotionValidationError').classList.add('hidden');
                        emotionContainer.classList.remove('emotion-validation-error');
                    }
                });
                
                emotionContainer.appendChild(label);
            });

            // Trend elements with real-time options
            const trendElementContainer = document.getElementById('trendElementContainer');
            const trendElements = [
                { value: 'realtime-storytelling', label: 'Ïã§ÏãúÍ∞Ñ Ïä§ÌÜ†Î¶¨ÌÖîÎßÅ', desc: 'AI Ìä∏Î†åÎìú Î∂ÑÏÑù Í∏∞Î∞ò', trend: 'AI' },
                { value: 'reaction-content', label: 'Î¶¨Ïï°ÏÖò ÏΩòÌÖêÏ∏†', desc: 'Ïã§ÏãúÍ∞Ñ ÏÜåÌÜµ Ï§ëÏã¨', trend: 'HOT' },
                { value: 'long-form', label: 'Î°±Ìèº ÏΩòÌÖêÏ∏†', desc: 'ÍπäÏù¥ ÏûàÎäî Ïù¥ÏïºÍ∏∞', trend: 'NEW' },
                { value: 'sketch-comedy', label: 'Ïä§ÏºÄÏπò ÏΩîÎØ∏Îîî', desc: 'ÏàèÎ∞ïÏä§ Ïä§ÌÉÄÏùº', trend: 'VIRAL' },
                { value: 'omni-vore', label: 'Ïò¥ÎãàÎ≥¥Ïñ¥', desc: 'Í≤ΩÍ≥Ñ ÏóÜÎäî ÏΩòÌÖêÏ∏†', trend: 'TREND' },
                { value: 'avoha', label: '#ÏïÑÎ≥¥Ìïò', desc: 'ÌèâÎ≤îÌïú ÏùºÏÉÅÏùò ÌäπÎ≥ÑÌï®', trend: 'CORE' },
                { value: 'face-tech', label: 'ÌéòÏù¥Ïä§ÌÖåÌÅ¨', desc: 'Í∏∞Ïà† Í∏∞Î∞ò Î∂ÑÏÑù', trend: 'TECH' },
                { value: 'material-charm', label: 'Î¨ºÏÑ±Îß§Î†•', desc: 'ÎîîÌÖåÏùº Ï§ëÏã¨', trend: 'DETAIL' }
            ];

            trendElements.forEach(element => {
                const label = document.createElement('label');
                label.className = 'radio-option flex items-start gap-4 p-4 rounded-xl cursor-pointer transition-all';
                
                const trendBadge = element.trend ? `<span class="trend-badge">${element.trend}</span>` : '';
                
                label.innerHTML = `
                    <input type="radio" name="trendElement" value="${element.value}" ${element.value === 'realtime-storytelling' ? 'checked' : ''} class="sr-only">
                    <div class="w-5 h-5 rounded-full border-2 border-white/30 flex items-center justify-center mt-1">
                        <div class="w-2.5 h-2.5 rounded-full bg-yellow-400 opacity-0 transition-opacity"></div>
                    </div>
                    <div class="flex-1">
                        <div class="text-white font-bold text-base sm:text-lg flex items-center gap-2">
                            ${element.label} ${trendBadge}
                        </div>
                        <div class="text-gray-300 text-sm sm:text-base mt-1">${element.desc}</div>
                    </div>
                `;
                
                const radio = label.querySelector('input');
                const indicator = label.querySelector('div > div');
                
                radio.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        appState.formData.trendElement = e.target.value;
                        
                        // Update all radio indicators
                        document.querySelectorAll('input[name="trendElement"]').forEach(r => {
                            const parentLabel = r.closest('label');
                            const ind = parentLabel.querySelector('div > div');
                            if (r.checked) {
                                parentLabel.classList.add('selected');
                                ind.style.opacity = '1';
                            } else {
                                parentLabel.classList.remove('selected');
                                ind.style.opacity = '0';
                            }
                        });
                    }
                });
                
                // Set initial state
                if (element.value === 'realtime-storytelling') {
                    label.classList.add('selected');
                    indicator.style.opacity = '1';
                }
                
                trendElementContainer.appendChild(label);
            });

            // Initialize emotion counter
            updateEmotionCounter();
        }

        // PWA Functions
        function setupPWA() {
            // Install prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                appState.deferredPrompt = e;
                document.getElementById('installPrompt').classList.remove('hidden');
            });

            // Install button
            document.getElementById('installBtn').addEventListener('click', async () => {
                if (appState.deferredPrompt) {
                    appState.deferredPrompt.prompt();
                    const { outcome } = await appState.deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        document.getElementById('installPrompt').classList.add('hidden');
                    }
                    appState.deferredPrompt = null;
                }
            });

            // Dismiss button
            document.getElementById('dismissBtn').addEventListener('click', () => {
                document.getElementById('installPrompt').classList.add('hidden');
            });

            // Check if already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.getElementById('installPrompt').classList.add('hidden');
            }
        }

        // Service Worker Registration
        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                const swCode = `
                    const CACHE_NAME = 'realtime-youtube-mention-generator-v1';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', (event) => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then((cache) => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', (event) => {
                        event.respondWith(
                            caches.match(event.request)
                                .then((response) => {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                })
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swURL = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swURL)
                    .then((registration) => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch((err) => {
                        console.log('ServiceWorker registration failed');
                    });
            }
        }

        // Initialize App
        function init() {
            setupFormInputs();
            setupPWA();
            registerServiceWorker();
            
            // Generate button
            document.getElementById('generateBtn').addEventListener('click', generateMention);
            
            // Initialize Lucide icons
            lucide.createIcons();
        }

        // Start the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
